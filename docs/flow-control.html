<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Flow Control | STA 444/5 - Introductory Data Science using R</title>
  <meta name="description" content="Chapter 6 Flow Control | STA 444/5 - Introductory Data Science using R" />
  <meta name="generator" content="bookdown 0.20.6 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Flow Control | STA 444/5 - Introductory Data Science using R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/Cover1.png" />
  
  <meta name="github-repo" content="dereksonderegger/444" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Flow Control | STA 444/5 - Introductory Data Science using R" />
  
  
  <meta name="twitter:image" content="images/Cover1.png" />

<meta name="author" content="Derek L. Sonderegger" />


<meta name="date" content="2020-10-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistical-models.html"/>
<link rel="next" href="factors.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other Resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="part"><span><b>Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="familiarization.html"><a href="familiarization.html"><i class="fa fa-check"></i><b>1</b> Familiarization</a>
<ul>
<li class="chapter" data-level="1.1" data-path="familiarization.html"><a href="familiarization.html#working-within-an-rmarkdown-file"><i class="fa fa-check"></i><b>1.1</b> Working within an Rmarkdown File</a></li>
<li class="chapter" data-level="1.2" data-path="familiarization.html"><a href="familiarization.html#r-file-types"><i class="fa fa-check"></i><b>1.2</b> R file Types</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="familiarization.html"><a href="familiarization.html#r-scripts-.r-files"><i class="fa fa-check"></i><b>1.2.1</b> R Scripts (.R files)</a></li>
<li class="chapter" data-level="1.2.2" data-path="familiarization.html"><a href="familiarization.html#r-markdown-.rmd-files"><i class="fa fa-check"></i><b>1.2.2</b> R Markdown (.Rmd files)</a></li>
<li class="chapter" data-level="1.2.3" data-path="familiarization.html"><a href="familiarization.html#r-notebooks-.rmd-files"><i class="fa fa-check"></i><b>1.2.3</b> R Notebooks (.Rmd files)</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="familiarization.html"><a href="familiarization.html#r-as-a-simple-calculator"><i class="fa fa-check"></i><b>1.3</b> R as a simple calculator</a></li>
<li class="chapter" data-level="1.4" data-path="familiarization.html"><a href="familiarization.html#assignment"><i class="fa fa-check"></i><b>1.4</b> Assignment</a></li>
<li class="chapter" data-level="1.5" data-path="familiarization.html"><a href="familiarization.html#vectors"><i class="fa fa-check"></i><b>1.5</b> Vectors</a></li>
<li class="chapter" data-level="1.6" data-path="familiarization.html"><a href="familiarization.html#packages"><i class="fa fa-check"></i><b>1.6</b> Packages</a></li>
<li class="chapter" data-level="1.7" data-path="familiarization.html"><a href="familiarization.html#finding-help"><i class="fa fa-check"></i><b>1.7</b> Finding Help</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="familiarization.html"><a href="familiarization.html#how-does-this-function-work"><i class="fa fa-check"></i><b>1.7.1</b> How does this function work?</a></li>
<li class="chapter" data-level="1.7.2" data-path="familiarization.html"><a href="familiarization.html#how-does-this-package-work"><i class="fa fa-check"></i><b>1.7.2</b> How does this package work?</a></li>
<li class="chapter" data-level="1.7.3" data-path="familiarization.html"><a href="familiarization.html#how-do-i-do-xxx"><i class="fa fa-check"></i><b>1.7.3</b> How do I do XXX?</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="familiarization.html"><a href="familiarization.html#Exercises_Familiarization"><i class="fa fa-check"></i><b>1.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>2</b> Data Frames</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-frames.html"><a href="data-frames.html#introduction-to-importing-data"><i class="fa fa-check"></i><b>2.1</b> Introduction to Importing Data</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-frames.html"><a href="data-frames.html#from-a-package"><i class="fa fa-check"></i><b>2.1.1</b> From a Package</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-frames.html"><a href="data-frames.html#import-from-.csv-or-.xls-files"><i class="fa fa-check"></i><b>2.1.2</b> Import from <code>.csv</code> or <code>.xls</code> files</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-frames.html"><a href="data-frames.html#data-types"><i class="fa fa-check"></i><b>2.2</b> Data Types</a></li>
<li class="chapter" data-level="2.3" data-path="data-frames.html"><a href="data-frames.html#basic-manipulation"><i class="fa fa-check"></i><b>2.3</b> Basic Manipulation</a></li>
<li class="chapter" data-level="2.4" data-path="data-frames.html"><a href="data-frames.html#Exercises_IntroDataFrames"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="graphing.html"><a href="graphing.html"><i class="fa fa-check"></i><b>3</b> Graphing</a>
<ul>
<li class="chapter" data-level="3.1" data-path="graphing.html"><a href="graphing.html#basic-graphs"><i class="fa fa-check"></i><b>3.1</b> Basic Graphs</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="graphing.html"><a href="graphing.html#scatterplots"><i class="fa fa-check"></i><b>3.1.1</b> Scatterplots</a></li>
<li class="chapter" data-level="3.1.2" data-path="graphing.html"><a href="graphing.html#box-plots"><i class="fa fa-check"></i><b>3.1.2</b> Box Plots</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="graphing.html"><a href="graphing.html#faceting"><i class="fa fa-check"></i><b>3.2</b> Faceting</a></li>
<li class="chapter" data-level="3.3" data-path="graphing.html"><a href="graphing.html#annotation"><i class="fa fa-check"></i><b>3.3</b> Annotation</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="graphing.html"><a href="graphing.html#axis-labels-and-titles"><i class="fa fa-check"></i><b>3.3.1</b> Axis Labels and Titles</a></li>
<li class="chapter" data-level="3.3.2" data-path="graphing.html"><a href="graphing.html#text-labels"><i class="fa fa-check"></i><b>3.3.2</b> Text Labels</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="graphing.html"><a href="graphing.html#Exercises_IntroGraphing"><i class="fa fa-check"></i><b>3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>4</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-wrangling.html"><a href="data-wrangling.html#verbs"><i class="fa fa-check"></i><b>4.1</b> Verbs</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-wrangling.html"><a href="data-wrangling.html#add_row"><i class="fa fa-check"></i><b>4.1.1</b> <code>add_row</code></a></li>
<li class="chapter" data-level="4.1.2" data-path="data-wrangling.html"><a href="data-wrangling.html#bind_rows"><i class="fa fa-check"></i><b>4.1.2</b> <code>bind_rows</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="data-wrangling.html"><a href="data-wrangling.html#subsetting"><i class="fa fa-check"></i><b>4.1.3</b> Subsetting</a></li>
<li class="chapter" data-level="4.1.4" data-path="data-wrangling.html"><a href="data-wrangling.html#arrange"><i class="fa fa-check"></i><b>4.1.4</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="4.1.5" data-path="data-wrangling.html"><a href="data-wrangling.html#mutate"><i class="fa fa-check"></i><b>4.1.5</b> mutate()</a></li>
<li class="chapter" data-level="4.1.6" data-path="data-wrangling.html"><a href="data-wrangling.html#summarise"><i class="fa fa-check"></i><b>4.1.6</b> summarise()</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-wrangling.html"><a href="data-wrangling.html#split-apply-combine"><i class="fa fa-check"></i><b>4.2</b> Split, apply, combine</a></li>
<li class="chapter" data-level="4.3" data-path="data-wrangling.html"><a href="data-wrangling.html#Exercises_IntroDataWrangling"><i class="fa fa-check"></i><b>4.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistical-models.html"><a href="statistical-models.html"><i class="fa fa-check"></i><b>5</b> Statistical Models</a>
<ul>
<li class="chapter" data-level="5.1" data-path="statistical-models.html"><a href="statistical-models.html#formula-notation"><i class="fa fa-check"></i><b>5.1</b> Formula Notation</a></li>
<li class="chapter" data-level="5.2" data-path="statistical-models.html"><a href="statistical-models.html#basic-models"><i class="fa fa-check"></i><b>5.2</b> Basic Models</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="statistical-models.html"><a href="statistical-models.html#t-tests"><i class="fa fa-check"></i><b>5.2.1</b> t-tests</a></li>
<li class="chapter" data-level="5.2.2" data-path="statistical-models.html"><a href="statistical-models.html#lm-objects"><i class="fa fa-check"></i><b>5.2.2</b> lm objects</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="statistical-models.html"><a href="statistical-models.html#accessor-function"><i class="fa fa-check"></i><b>5.3</b> Accessor function</a></li>
<li class="chapter" data-level="5.4" data-path="statistical-models.html"><a href="statistical-models.html#Exercises_ModelBuilding"><i class="fa fa-check"></i><b>5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="flow-control.html"><a href="flow-control.html"><i class="fa fa-check"></i><b>6</b> Flow Control</a>
<ul>
<li class="chapter" data-level="6.1" data-path="flow-control.html"><a href="flow-control.html#logical-expressions"><i class="fa fa-check"></i><b>6.1</b> Logical Expressions</a></li>
<li class="chapter" data-level="6.2" data-path="flow-control.html"><a href="flow-control.html#decision-statements"><i class="fa fa-check"></i><b>6.2</b> Decision statements</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="flow-control.html"><a href="flow-control.html#in-dplyr-wrangling"><i class="fa fa-check"></i><b>6.2.1</b> In <code>dplyr</code> wrangling</a></li>
<li class="chapter" data-level="6.2.2" data-path="flow-control.html"><a href="flow-control.html#general-if-else"><i class="fa fa-check"></i><b>6.2.2</b> General <code>if else</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="flow-control.html"><a href="flow-control.html#loops"><i class="fa fa-check"></i><b>6.3</b> Loops</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="flow-control.html"><a href="flow-control.html#while-loops"><i class="fa fa-check"></i><b>6.3.1</b> <code>while</code> Loops</a></li>
<li class="chapter" data-level="6.3.2" data-path="flow-control.html"><a href="flow-control.html#for-loops"><i class="fa fa-check"></i><b>6.3.2</b> <code>for</code> Loops</a></li>
<li class="chapter" data-level="6.3.3" data-path="flow-control.html"><a href="flow-control.html#mosaicdo-loops"><i class="fa fa-check"></i><b>6.3.3</b> <code>mosaic::do()</code> loops</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="flow-control.html"><a href="flow-control.html#functions"><i class="fa fa-check"></i><b>6.4</b> Functions</a></li>
<li class="chapter" data-level="6.5" data-path="flow-control.html"><a href="flow-control.html#Exercises_FlowControl"><i class="fa fa-check"></i><b>6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>7</b> Factors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="factors.html"><a href="factors.html#creation-and-structure"><i class="fa fa-check"></i><b>7.1</b> Creation and Structure</a></li>
<li class="chapter" data-level="7.2" data-path="factors.html"><a href="factors.html#change-labels"><i class="fa fa-check"></i><b>7.2</b> Change Labels</a></li>
<li class="chapter" data-level="7.3" data-path="factors.html"><a href="factors.html#reorder-levels-1"><i class="fa fa-check"></i><b>7.3</b> Reorder Levels</a></li>
<li class="chapter" data-level="7.4" data-path="factors.html"><a href="factors.html#add-or-substract-levels"><i class="fa fa-check"></i><b>7.4</b> Add or substract Levels</a></li>
<li class="chapter" data-level="7.5" data-path="factors.html"><a href="factors.html#Exercises_Factors"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>Miscellaneous</b></span></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html"><i class="fa fa-check"></i>Statistical Tables</a>
<ul>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#example-distributions"><i class="fa fa-check"></i>Example Distributions</a></li>
<li><a href="statistical-tables.html#mosaicplotdist-function"><code>mosaic::plotDist()</code> function</a></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#base-r-functions"><i class="fa fa-check"></i>Base R functions</a>
<ul>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#d-function"><i class="fa fa-check"></i>d-function</a></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#p-function"><i class="fa fa-check"></i>p-function</a></li>
<li><a href="statistical-tables.html#q-function"><code>q</code>-function</a></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#r-function"><i class="fa fa-check"></i>r-function</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#Exercises_Statistical_Tables"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html"><i class="fa fa-check"></i>Rmarkdown Tricks</a>
<ul>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#chunk-options"><i class="fa fa-check"></i>Chunk Options</a></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#verbatim-list-environments"><i class="fa fa-check"></i>Verbatim &amp; List Environments</a></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#mathematical-expressions"><i class="fa fa-check"></i>Mathematical expressions</a></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#tables"><i class="fa fa-check"></i>Tables</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#simple-tables"><i class="fa fa-check"></i><b>7.5.1</b> Simple Tables</a></li>
<li class="chapter" data-level="7.5.2" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#grid-tables"><i class="fa fa-check"></i><b>7.5.2</b> Grid Tables</a></li>
<li class="chapter" data-level="7.5.3" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#pipe-tables"><i class="fa fa-check"></i><b>7.5.3</b> Pipe Tables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#r-functions-to-produce-table-code."><i class="fa fa-check"></i>R functions to produce table code.</a>
<ul>
<li class="chapter" data-level="7.5.4" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#knitrkable"><i class="fa fa-check"></i><b>7.5.4</b> <code class="unnumbered">knitr::kable</code></a></li>
<li class="chapter" data-level="7.5.5" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#package-pander"><i class="fa fa-check"></i><b>7.5.5</b> Package <code class="unnumbered">pander</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#code-appendix"><i class="fa fa-check"></i>Code Appendix</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-wrangling-process.html"><a href="data-wrangling-process.html"><i class="fa fa-check"></i>Data Wrangling Process</a>
<ul>
<li class="chapter" data-level="7.6" data-path="data-wrangling-process.html"><a href="data-wrangling-process.html#introduction"><i class="fa fa-check"></i><b>7.6</b> Introduction</a></li>
<li class="chapter" data-level="7.7" data-path="data-wrangling-process.html"><a href="data-wrangling-process.html#import"><i class="fa fa-check"></i><b>7.7</b> Import</a></li>
<li class="chapter" data-level="7.8" data-path="data-wrangling-process.html"><a href="data-wrangling-process.html#tidying"><i class="fa fa-check"></i><b>7.8</b> Tidying</a></li>
<li class="chapter" data-level="7.9" data-path="data-wrangling-process.html"><a href="data-wrangling-process.html#cleaning"><i class="fa fa-check"></i><b>7.9</b> Cleaning</a></li>
<li class="chapter" data-level="7.10" data-path="data-wrangling-process.html"><a href="data-wrangling-process.html#use"><i class="fa fa-check"></i><b>7.10</b> Use</a></li>
</ul></li>
<li class="part"><span><b>Deeper Details</b></span></li>
<li class="chapter" data-level="8" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>8</b> Data Structures</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-structures.html"><a href="data-structures.html#DataStructures_Vectors"><i class="fa fa-check"></i><b>8.1</b> Vectors</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="data-structures.html"><a href="data-structures.html#DataStructures_AccessingVectorElements"><i class="fa fa-check"></i><b>8.1.1</b> Accessing Vector Elements</a></li>
<li class="chapter" data-level="8.1.2" data-path="data-structures.html"><a href="data-structures.html#DataStructures_ScalarFunctions"><i class="fa fa-check"></i><b>8.1.2</b> Scalar Functions Applied to Vectors</a></li>
<li class="chapter" data-level="8.1.3" data-path="data-structures.html"><a href="data-structures.html#DataStructures_VectorAlgebra"><i class="fa fa-check"></i><b>8.1.3</b> Vector Algebra</a></li>
<li class="chapter" data-level="8.1.4" data-path="data-structures.html"><a href="data-structures.html#DataStructures_CommonVectorFunctions"><i class="fa fa-check"></i><b>8.1.4</b> Commonly Used Vector Functions</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data-structures.html"><a href="data-structures.html#DataStructures_Matrices"><i class="fa fa-check"></i><b>8.2</b> Matrices</a></li>
<li class="chapter" data-level="8.3" data-path="data-structures.html"><a href="data-structures.html#DataStructures_DataFrames"><i class="fa fa-check"></i><b>8.3</b> Data Frames</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-structures.html"><a href="data-structures.html#DataStructures_Tibbles"><i class="fa fa-check"></i><b>8.3.1</b> <code>data.frames</code> vs <code>tibbles</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="data-structures.html"><a href="data-structures.html#access-via-vs"><i class="fa fa-check"></i><b>8.3.2</b> Access via <code>[ ]</code> vs <code>[[ ]]</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-structures.html"><a href="data-structures.html#DataStructures_Lists"><i class="fa fa-check"></i><b>8.4</b> Lists</a></li>
<li class="chapter" data-level="8.5" data-path="data-structures.html"><a href="data-structures.html#Exercises_DataStructures"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>9</b> Importing Data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="importing-data.html"><a href="importing-data.html#working-directory"><i class="fa fa-check"></i><b>9.1</b> Working directory</a></li>
<li class="chapter" data-level="9.2" data-path="importing-data.html"><a href="importing-data.html#comma-separated-data"><i class="fa fa-check"></i><b>9.2</b> Comma Separated Data</a></li>
<li class="chapter" data-level="9.3" data-path="importing-data.html"><a href="importing-data.html#ms-excel"><i class="fa fa-check"></i><b>9.3</b> MS Excel</a></li>
<li class="chapter" data-level="9.4" data-path="importing-data.html"><a href="importing-data.html#multiple-files"><i class="fa fa-check"></i><b>9.4</b> Multiple files</a></li>
<li class="chapter" data-level="9.5" data-path="importing-data.html"><a href="importing-data.html#Exercises_DataImport"><i class="fa fa-check"></i><b>9.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html"><i class="fa fa-check"></i><b>10</b> Functions</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#basic-function-definition"><i class="fa fa-check"></i><b>10.1</b> Basic function definition</a></li>
<li class="chapter" data-level="10.2" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#parameter-defaults"><i class="fa fa-check"></i><b>10.2</b> Parameter Defaults</a></li>
<li class="chapter" data-level="10.3" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#ellipses"><i class="fa fa-check"></i><b>10.3</b> Ellipses</a></li>
<li class="chapter" data-level="10.4" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#function-overloading"><i class="fa fa-check"></i><b>10.4</b> Function Overloading</a></li>
<li class="chapter" data-level="10.5" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#debugging"><i class="fa fa-check"></i><b>10.5</b> Debugging</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#rmarkdown-recommendations"><i class="fa fa-check"></i><b>10.5.1</b> Rmarkdown Recommendations</a></li>
<li class="chapter" data-level="10.5.2" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#step-wise-execution"><i class="fa fa-check"></i><b>10.5.2</b> Step-wise Execution</a></li>
<li class="chapter" data-level="10.5.3" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#print-statements"><i class="fa fa-check"></i><b>10.5.3</b> Print Statements</a></li>
<li class="chapter" data-level="10.5.4" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#browser"><i class="fa fa-check"></i><b>10.5.4</b> <code>browser</code></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#scope"><i class="fa fa-check"></i><b>10.6</b> Scope</a></li>
<li class="chapter" data-level="10.7" data-path="Function-Chapter-Details.html"><a href="Function-Chapter-Details.html#Exercises_Functions"><i class="fa fa-check"></i><b>10.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="string-manipulation.html"><a href="string-manipulation.html"><i class="fa fa-check"></i><b>11</b> String Manipulation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="string-manipulation.html"><a href="string-manipulation.html#base-function"><i class="fa fa-check"></i><b>11.1</b> Base function</a></li>
<li class="chapter" data-level="11.2" data-path="string-manipulation.html"><a href="string-manipulation.html#stringr-basic-operations"><i class="fa fa-check"></i><b>11.2</b> <code>stringr</code>: Basic operations</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="string-manipulation.html"><a href="string-manipulation.html#concatenating-with-str_c-or-str_join"><i class="fa fa-check"></i><b>11.2.1</b> Concatenating with <code>str_c()</code> or <code>str_join()</code></a></li>
<li class="chapter" data-level="11.2.2" data-path="string-manipulation.html"><a href="string-manipulation.html#calculating-string-length-with-str_length"><i class="fa fa-check"></i><b>11.2.2</b> Calculating string length with <code>str_length()</code></a></li>
<li class="chapter" data-level="11.2.3" data-path="string-manipulation.html"><a href="string-manipulation.html#extracting-substrings-with-str_sub"><i class="fa fa-check"></i><b>11.2.3</b> Extracting substrings with <code>str_sub()</code></a></li>
<li class="chapter" data-level="11.2.4" data-path="string-manipulation.html"><a href="string-manipulation.html#pad-a-string-with-str_pad"><i class="fa fa-check"></i><b>11.2.4</b> Pad a string with <code>str_pad()</code></a></li>
<li class="chapter" data-level="11.2.5" data-path="string-manipulation.html"><a href="string-manipulation.html#trim-a-string-with-str_trim"><i class="fa fa-check"></i><b>11.2.5</b> Trim a string with <code>str_trim()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="string-manipulation.html"><a href="string-manipulation.html#stringr-pattern-matching-tools"><i class="fa fa-check"></i><b>11.3</b> <code>stringr</code>: Pattern Matching Tools</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="string-manipulation.html"><a href="string-manipulation.html#detecting-a-pattern-using-str_detect"><i class="fa fa-check"></i><b>11.3.1</b> Detecting a pattern using str_detect()</a></li>
<li class="chapter" data-level="11.3.2" data-path="string-manipulation.html"><a href="string-manipulation.html#locating-a-pattern-using-str_locate"><i class="fa fa-check"></i><b>11.3.2</b> Locating a pattern using str_locate()</a></li>
<li class="chapter" data-level="11.3.3" data-path="string-manipulation.html"><a href="string-manipulation.html#replacing-sub-strings-using-str_replace"><i class="fa fa-check"></i><b>11.3.3</b> Replacing sub-strings using <code>str_replace()</code></a></li>
<li class="chapter" data-level="11.3.4" data-path="string-manipulation.html"><a href="string-manipulation.html#splitting-into-sub-strings-using-str_split-and-tidyrseparate"><i class="fa fa-check"></i><b>11.3.4</b> Splitting into sub-strings using <code>str_split()</code> and <code>tidyr::separate()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="string-manipulation.html"><a href="string-manipulation.html#regular-expressions"><i class="fa fa-check"></i><b>11.4</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="string-manipulation.html"><a href="string-manipulation.html#regular-expression-ingredients"><i class="fa fa-check"></i><b>11.4.1</b> Regular Expression Ingredients</a></li>
<li class="chapter" data-level="11.4.2" data-path="string-manipulation.html"><a href="string-manipulation.html#matching-a-specific-string"><i class="fa fa-check"></i><b>11.4.2</b> Matching a specific string</a></li>
<li class="chapter" data-level="11.4.3" data-path="string-manipulation.html"><a href="string-manipulation.html#matching-arbitrary-numbers"><i class="fa fa-check"></i><b>11.4.3</b> Matching arbitrary numbers</a></li>
<li class="chapter" data-level="11.4.4" data-path="string-manipulation.html"><a href="string-manipulation.html#greedy-matching"><i class="fa fa-check"></i><b>11.4.4</b> Greedy matching</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="string-manipulation.html"><a href="string-manipulation.html#fuzzy-pattern-matching"><i class="fa fa-check"></i><b>11.5</b> Fuzzy Pattern Matching</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="string-manipulation.html"><a href="string-manipulation.html#key-collision-merge"><i class="fa fa-check"></i><b>11.5.1</b> Key Collision Merge</a></li>
<li class="chapter" data-level="11.5.2" data-path="string-manipulation.html"><a href="string-manipulation.html#string-distances"><i class="fa fa-check"></i><b>11.5.2</b> String Distances</a></li>
<li class="chapter" data-level="11.5.3" data-path="string-manipulation.html"><a href="string-manipulation.html#n-gram-merge"><i class="fa fa-check"></i><b>11.5.3</b> N-gram Merge</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="string-manipulation.html"><a href="string-manipulation.html#Exercises_Strings"><i class="fa fa-check"></i><b>11.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>12</b> Dates and Times</a>
<ul>
<li class="chapter" data-level="12.1" data-path="dates-and-times.html"><a href="dates-and-times.html#creating-date-and-time-objects"><i class="fa fa-check"></i><b>12.1</b> Creating Date and Time objects</a></li>
<li class="chapter" data-level="12.2" data-path="dates-and-times.html"><a href="dates-and-times.html#extracting-information"><i class="fa fa-check"></i><b>12.2</b> Extracting information</a></li>
<li class="chapter" data-level="12.3" data-path="dates-and-times.html"><a href="dates-and-times.html#arithmetic-on-dates"><i class="fa fa-check"></i><b>12.3</b> Arithmetic on Dates</a></li>
<li class="chapter" data-level="12.4" data-path="dates-and-times.html"><a href="dates-and-times.html#Exercises_Dates"><i class="fa fa-check"></i><b>12.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="data-reshaping.html"><a href="data-reshaping.html"><i class="fa fa-check"></i><b>13</b> Data Reshaping</a>
<ul>
<li class="chapter" data-level="13.1" data-path="data-reshaping.html"><a href="data-reshaping.html#cbind-rbind"><i class="fa fa-check"></i><b>13.1</b> <code>cbind</code> &amp; <code>rbind</code></a></li>
<li class="chapter" data-level="13.2" data-path="data-reshaping.html"><a href="data-reshaping.html#table-pivots"><i class="fa fa-check"></i><b>13.2</b> Table Pivots</a></li>
<li class="chapter" data-level="13.3" data-path="data-reshaping.html"><a href="data-reshaping.html#spreading-a-single-column-with-separate"><i class="fa fa-check"></i><b>13.3</b> Spreading a Single Column with <code>separate</code></a></li>
<li class="chapter" data-level="13.4" data-path="data-reshaping.html"><a href="data-reshaping.html#storing-data-in-multiple-tables"><i class="fa fa-check"></i><b>13.4</b> Storing Data in Multiple Tables</a></li>
<li class="chapter" data-level="13.5" data-path="data-reshaping.html"><a href="data-reshaping.html#table-joins"><i class="fa fa-check"></i><b>13.5</b> Table Joins</a></li>
<li class="chapter" data-level="13.6" data-path="data-reshaping.html"><a href="data-reshaping.html#row-summations"><i class="fa fa-check"></i><b>13.6</b> Row summations</a></li>
<li class="chapter" data-level="13.7" data-path="data-reshaping.html"><a href="data-reshaping.html#Exercises_DataReshaping"><i class="fa fa-check"></i><b>13.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i>Maps</a>
<ul>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#introduction-1"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#coordinate-reference-systems-crs"><i class="fa fa-check"></i>Coordinate Reference Systems (CRS)</a></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#spatial-objects"><i class="fa fa-check"></i>Spatial Objects</a></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#tiles"><i class="fa fa-check"></i>Tiles</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#obtaining-spatial-data"><i class="fa fa-check"></i>Obtaining Spatial Data</a>
<ul>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#natural-earth-database"><i class="fa fa-check"></i>Natural Earth Database</a></li>
<li class="chapter" data-level="13.7.1" data-path="maps.html"><a href="maps.html#package-maps"><i class="fa fa-check"></i><b>13.7.1</b> Package <code class="unnumbered">maps</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#example"><i class="fa fa-check"></i>Example</a>
<ul>
<li class="chapter" data-level="13.7.2" data-path="maps.html"><a href="maps.html#package-leaflet"><i class="fa fa-check"></i><b>13.7.2</b> Package <code class="unnumbered">leaflet</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html"><i class="fa fa-check"></i><b>14</b> Graphing Part II</a>
<ul>
<li class="chapter" data-level="14.1" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#multi-plots"><i class="fa fa-check"></i><b>14.1</b> Multi-plots</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#cowplot-package"><i class="fa fa-check"></i><b>14.1.1</b> <code>cowplot</code> package</a></li>
<li class="chapter" data-level="14.1.2" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#multiplot-in-rmisc"><i class="fa fa-check"></i><b>14.1.2</b> <code>multiplot</code> in <code>Rmisc</code></a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#customized-scales"><i class="fa fa-check"></i><b>14.2</b> Customized Scales</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#color-scales"><i class="fa fa-check"></i><b>14.2.1</b> Color Scales</a></li>
<li class="chapter" data-level="14.2.2" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#setting-major-minor-ticks"><i class="fa fa-check"></i><b>14.2.2</b> Setting major &amp; minor ticks</a></li>
<li class="chapter" data-level="14.2.3" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#log-scales"><i class="fa fa-check"></i><b>14.2.3</b> Log Scales</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#themes"><i class="fa fa-check"></i><b>14.3</b> Themes</a></li>
<li class="chapter" data-level="14.4" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#mathematical-notation"><i class="fa fa-check"></i><b>14.4</b> Mathematical Notation</a></li>
<li class="chapter" data-level="14.5" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#interactive-plots-with-plotly"><i class="fa fa-check"></i><b>14.5</b> Interactive plots with <code>plotly</code></a></li>
<li class="chapter" data-level="14.6" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#geographic-maps"><i class="fa fa-check"></i><b>14.6</b> Geographic Maps</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#package-maps-1"><i class="fa fa-check"></i><b>14.6.1</b> Package <code>maps</code></a></li>
<li class="chapter" data-level="14.6.2" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#packages-sf-and-rnaturalearth"><i class="fa fa-check"></i><b>14.6.2</b> Packages <code>sf</code> and <code>rnaturalearth</code></a></li>
<li class="chapter" data-level="14.6.3" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#package-leaflet-1"><i class="fa fa-check"></i><b>14.6.3</b> Package <code>leaflet</code></a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="graphing-part-ii.html"><a href="graphing-part-ii.html#Exercises_Advanced_Graphing"><i class="fa fa-check"></i><b>14.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>15</b> R Packages</a>
<ul>
<li class="chapter" data-level="15.1" data-path="r-packages.html"><a href="r-packages.html#introduction-2"><i class="fa fa-check"></i><b>15.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="r-packages.html"><a href="r-packages.html#useful-packages-and-books"><i class="fa fa-check"></i><b>15.1.1</b> Useful packages and books</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="r-packages.html"><a href="r-packages.html#package-structure"><i class="fa fa-check"></i><b>15.2</b> Package Structure</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="r-packages.html"><a href="r-packages.html#minimal-files-and-directories"><i class="fa fa-check"></i><b>15.2.1</b> Minimal files and directories</a></li>
<li class="chapter" data-level="15.2.2" data-path="r-packages.html"><a href="r-packages.html#optional-files-and-directories"><i class="fa fa-check"></i><b>15.2.2</b> Optional Files and Directories</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="r-packages.html"><a href="r-packages.html#documenting"><i class="fa fa-check"></i><b>15.3</b> Documenting</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="r-packages.html"><a href="r-packages.html#data-documentation"><i class="fa fa-check"></i><b>15.3.1</b> Data Documentation</a></li>
<li class="chapter" data-level="15.3.2" data-path="r-packages.html"><a href="r-packages.html#documenting-functions"><i class="fa fa-check"></i><b>15.3.2</b> Documenting Functions</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="r-packages.html"><a href="r-packages.html#testing"><i class="fa fa-check"></i><b>15.4</b> Testing</a></li>
<li class="chapter" data-level="15.5" data-path="r-packages.html"><a href="r-packages.html#the-description-file"><i class="fa fa-check"></i><b>15.5</b> The DESCRIPTION file</a></li>
<li class="chapter" data-level="15.6" data-path="r-packages.html"><a href="r-packages.html#sharing-your-package"><i class="fa fa-check"></i><b>15.6</b> Sharing your Package</a></li>
<li class="chapter" data-level="15.7" data-path="r-packages.html"><a href="r-packages.html#an-example-package"><i class="fa fa-check"></i><b>15.7</b> An Example Package</a></li>
<li class="chapter" data-level="15.8" data-path="r-packages.html"><a href="r-packages.html#Exercises_Packages"><i class="fa fa-check"></i><b>15.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="data-scraping.html"><a href="data-scraping.html"><i class="fa fa-check"></i><b>16</b> Data Scraping</a>
<ul>
<li class="chapter" data-level="16.1" data-path="data-scraping.html"><a href="data-scraping.html#web-pages"><i class="fa fa-check"></i><b>16.1</b> Web Pages</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="data-scraping.html"><a href="data-scraping.html#example-wikipedia-table"><i class="fa fa-check"></i><b>16.1.1</b> Example Wikipedia Table</a></li>
<li class="chapter" data-level="16.1.2" data-path="data-scraping.html"><a href="data-scraping.html#lists"><i class="fa fa-check"></i><b>16.1.2</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="data-scraping.html"><a href="data-scraping.html#scraping-.pdf-files"><i class="fa fa-check"></i><b>16.2</b> Scraping .pdf files</a></li>
<li class="chapter" data-level="16.3" data-path="data-scraping.html"><a href="data-scraping.html#Exercises_WebScraping"><i class="fa fa-check"></i><b>16.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="api-data-queries.html"><a href="api-data-queries.html"><i class="fa fa-check"></i><b>17</b> API Data Queries</a>
<ul>
<li class="chapter" data-level="17.1" data-path="api-data-queries.html"><a href="api-data-queries.html#introduction-3"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="api-data-queries.html"><a href="api-data-queries.html#census-bureau-api"><i class="fa fa-check"></i><b>17.2</b> Census Bureau API</a></li>
<li class="chapter" data-level="17.3" data-path="api-data-queries.html"><a href="api-data-queries.html#package-censusapi"><i class="fa fa-check"></i><b>17.3</b> Package <code>censusapi</code></a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="api-data-queries.html"><a href="api-data-queries.html#population-estimates"><i class="fa fa-check"></i><b>17.3.1</b> Population Estimates</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="api-data-queries.html"><a href="api-data-queries.html#package-tidycensus"><i class="fa fa-check"></i><b>17.4</b> Package <code>tidycensus</code></a></li>
<li class="chapter" data-level="17.5" data-path="api-data-queries.html"><a href="api-data-queries.html#Exercises_APIs"><i class="fa fa-check"></i><b>17.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="databases.html"><a href="databases.html"><i class="fa fa-check"></i><b>18</b> Databases</a>
<ul>
<li class="chapter" data-level="18.1" data-path="databases.html"><a href="databases.html#tutorial-set-up"><i class="fa fa-check"></i><b>18.1</b> Tutorial Set-Up</a></li>
<li class="chapter" data-level="18.2" data-path="databases.html"><a href="databases.html#sql"><i class="fa fa-check"></i><b>18.2</b> SQL</a></li>
<li class="chapter" data-level="18.3" data-path="databases.html"><a href="databases.html#dbplyr"><i class="fa fa-check"></i><b>18.3</b> <code>dbplyr</code></a></li>
<li class="chapter" data-level="18.4" data-path="databases.html"><a href="databases.html#Exercises_DataBases"><i class="fa fa-check"></i><b>18.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="speeding-up-r.html"><a href="speeding-up-r.html"><i class="fa fa-check"></i><b>19</b> Speeding up R</a>
<ul>
<li class="chapter" data-level="19.1" data-path="speeding-up-r.html"><a href="speeding-up-r.html#faster-for-loops"><i class="fa fa-check"></i><b>19.1</b> Faster for loops?</a></li>
<li class="chapter" data-level="19.2" data-path="speeding-up-r.html"><a href="speeding-up-r.html#vectorizing-loops"><i class="fa fa-check"></i><b>19.2</b> Vectorizing loops</a></li>
<li class="chapter" data-level="19.3" data-path="speeding-up-r.html"><a href="speeding-up-r.html#parallel-processing"><i class="fa fa-check"></i><b>19.3</b> Parallel Processing</a></li>
<li class="chapter" data-level="19.4" data-path="speeding-up-r.html"><a href="speeding-up-r.html#parallel-aware-functions"><i class="fa fa-check"></i><b>19.4</b> Parallel Aware Functions</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="speeding-up-r.html"><a href="speeding-up-r.html#bootboot"><i class="fa fa-check"></i><b>19.4.1</b> <code>boot::boot</code></a></li>
<li class="chapter" data-level="19.4.2" data-path="speeding-up-r.html"><a href="speeding-up-r.html#carettrain"><i class="fa fa-check"></i><b>19.4.2</b> <code>caret::train</code></a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="speeding-up-r.html"><a href="speeding-up-r.html#parallelizing-for-loops"><i class="fa fa-check"></i><b>19.5</b> Parallelizing <code>for</code> loops</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cheatsheet.html"><a href="cheatsheet.html"><i class="fa fa-check"></i>CheatSheet</a>
<ul>
<li class="chapter" data-level="" data-path="cheatsheet.html"><a href="cheatsheet.html#importing-data-and-loading-packages"><i class="fa fa-check"></i>Importing Data and Loading Packages</a></li>
<li class="chapter" data-level="" data-path="cheatsheet.html"><a href="cheatsheet.html#useful-vectorized-functions"><i class="fa fa-check"></i>Useful vectorized functions</a></li>
<li class="chapter" data-level="" data-path="cheatsheet.html"><a href="cheatsheet.html#data-frame-tibble-manipulation"><i class="fa fa-check"></i>Data frame (tibble) manipulation</a></li>
<li class="chapter" data-level="" data-path="cheatsheet.html"><a href="cheatsheet.html#data-frame-tibble-reshaping"><i class="fa fa-check"></i>Data frame (tibble) reshaping</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STA 444/5 - Introductory Data Science using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="flow-control" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Flow Control</h1>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="flow-control.html#cb197-1" aria-hidden="true"></a><span class="kw">library</span>(tidyverse, <span class="dt">quietly =</span> <span class="ot">TRUE</span>)   <span class="co"># loading ggplot2 and dplyr</span></span></code></pre></div>
<p>As always, there is a <a href="https://youtu.be/bPZKP_yYFLo">Video Lecture</a> that accompanies this chapter.</p>
<p>Often it is necessary to write scripts that perform different action depending on the data or to automate a task that must be repeated many times. To address these issues we will introduce the <code>if</code> statement and its closely related cousin <code>if else</code>. To address repeated tasks we will define two types of loops, a <code>while</code> loop and a <code>for</code> loop.</p>
<div id="logical-expressions" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Logical Expressions</h2>
<p>The most common logical expressions are the numerical expressions <code>&lt;</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code>, <code>&gt;=</code>, <code>&gt;</code>. These are the usual logical comparisons from mathematics, with <code>!=</code> being the <em>not equal</em> comparison. For any logical value or vector of values, the <code>!</code> flips the logical values.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="flow-control.html#cb198-1" aria-hidden="true"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">A=</span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">B=</span><span class="dv">5</span><span class="op">:</span><span class="dv">10</span>)</span>
<span id="cb198-2"><a href="flow-control.html#cb198-2" aria-hidden="true"></a>df</span></code></pre></div>
<pre><code>##   A  B
## 1 1  5
## 2 2  6
## 3 3  7
## 4 4  8
## 5 5  9
## 6 6 10</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="flow-control.html#cb200-1" aria-hidden="true"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="st">`</span><span class="dt">A==3?</span><span class="st">`</span>         =<span class="st">  </span>A <span class="op">==</span><span class="st"> </span><span class="dv">3</span>,</span>
<span id="cb200-2"><a href="flow-control.html#cb200-2" aria-hidden="true"></a>              <span class="st">`</span><span class="dt">A&lt;=3?</span><span class="st">`</span>         =<span class="st">  </span>A <span class="op">&lt;=</span><span class="st"> </span><span class="dv">3</span>,</span>
<span id="cb200-3"><a href="flow-control.html#cb200-3" aria-hidden="true"></a>              <span class="st">`</span><span class="dt">A!=3?</span><span class="st">`</span>         =<span class="st">  </span>A <span class="op">!=</span><span class="st"> </span><span class="dv">3</span>,</span>
<span id="cb200-4"><a href="flow-control.html#cb200-4" aria-hidden="true"></a>              <span class="st">`</span><span class="dt">Flip Previous</span><span class="st">`</span> =<span class="st"> </span><span class="op">!</span><span class="st"> `</span><span class="dt">A!=3?</span><span class="st">`</span> )</span></code></pre></div>
<pre><code>##   A  B A==3? A&lt;=3? A!=3? Flip Previous
## 1 1  5 FALSE  TRUE  TRUE         FALSE
## 2 2  6 FALSE  TRUE  TRUE         FALSE
## 3 3  7  TRUE  TRUE FALSE          TRUE
## 4 4  8 FALSE FALSE  TRUE         FALSE
## 5 5  9 FALSE FALSE  TRUE         FALSE
## 6 6 10 FALSE FALSE  TRUE         FALSE</code></pre>
<p>I find that it is preferable to write logical comparisons using <code>&lt;</code> or <code>&lt;=</code> rather than the “greater than” versions because the number line is read left to right, so it is much easier to have the smaller value on the left.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="flow-control.html#cb202-1" aria-hidden="true"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>( <span class="st">`</span><span class="dt">A &lt; B</span><span class="st">`</span>  =<span class="st">  </span>A <span class="op">&lt;</span><span class="st"> </span>B)</span></code></pre></div>
<pre><code>##   A  B A &lt; B
## 1 1  5  TRUE
## 2 2  6  TRUE
## 3 3  7  TRUE
## 4 4  8  TRUE
## 5 5  9  TRUE
## 6 6 10  TRUE</code></pre>
<p>If we have two (or more) vectors of of logical values, we can do two <em>pairwise</em> operations. The “and” operator <code>&amp;</code> will result in a TRUE value if all elements are TRUE. The “or” operator will result in a TRUE value if either the left hand side or right hand side is TRUE.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="flow-control.html#cb204-1" aria-hidden="true"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">C =</span> A<span class="op">&gt;=</span><span class="dv">0</span>,  <span class="dt">D =</span> A<span class="op">&lt;=</span><span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb204-2"><a href="flow-control.html#cb204-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">result1_and =</span> C <span class="op">&amp;</span><span class="st"> </span>D,          <span class="co">#    C and D both true</span></span>
<span id="cb204-3"><a href="flow-control.html#cb204-3" aria-hidden="true"></a>          <span class="dt">result2_and =</span>  A<span class="op">&gt;=</span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span>A<span class="op">&lt;=</span><span class="dv">5</span>,   <span class="co">#    directly calculated</span></span>
<span id="cb204-4"><a href="flow-control.html#cb204-4" aria-hidden="true"></a>          <span class="dt">result3_and =</span>  <span class="dv">0</span> <span class="op">&lt;=</span><span class="st"> </span>A <span class="op">&amp;</span><span class="st"> </span>A<span class="op">&lt;=</span><span class="dv">5</span>, <span class="co">#    more readable 0 &lt;= A &lt;= 5</span></span>
<span id="cb204-5"><a href="flow-control.html#cb204-5" aria-hidden="true"></a>          <span class="dt">result4_or  =</span>  A<span class="op">&lt;=</span><span class="dv">0</span> <span class="op">|</span><span class="st"> </span><span class="dv">5</span><span class="op">&lt;=</span>A)   <span class="co">#    A not in (0,5) range    </span></span></code></pre></div>
<pre><code>##   A  B    C     D result1_and result2_and result3_and result4_or
## 1 1  5 TRUE  TRUE        TRUE        TRUE        TRUE      FALSE
## 2 2  6 TRUE  TRUE        TRUE        TRUE        TRUE      FALSE
## 3 3  7 TRUE  TRUE        TRUE        TRUE        TRUE      FALSE
## 4 4  8 TRUE  TRUE        TRUE        TRUE        TRUE      FALSE
## 5 5  9 TRUE  TRUE        TRUE        TRUE        TRUE       TRUE
## 6 6 10 TRUE FALSE       FALSE       FALSE       FALSE       TRUE</code></pre>
<p>Next we can summarize a vector of logical values using <code>any()</code>, <code>all()</code>, and <code>which()</code>. These functions do exactly what you would expect them to do.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="flow-control.html#cb206-1" aria-hidden="true"></a><span class="kw">any</span>(<span class="dv">6</span><span class="op">:</span><span class="dv">10</span> <span class="op">&lt;=</span><span class="st"> </span><span class="dv">7</span> )   <span class="co"># Should return TRUE because there are two TRUE results</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="flow-control.html#cb208-1" aria-hidden="true"></a><span class="kw">all</span>(<span class="dv">6</span><span class="op">:</span><span class="dv">10</span> <span class="op">&lt;=</span><span class="st"> </span><span class="dv">7</span> )   <span class="co"># Should return FALSE because there is at least one FALSE result</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="flow-control.html#cb210-1" aria-hidden="true"></a><span class="kw">which</span>( <span class="dv">6</span><span class="op">:</span><span class="dv">10</span> <span class="op">&lt;=</span><span class="st"> </span><span class="dv">7</span>) <span class="co"># return the indices of the TRUE values</span></span></code></pre></div>
<pre><code>## [1] 1 2</code></pre>
<p>Finally, I often need to figure out if a character string is in some set of values.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="flow-control.html#cb212-1" aria-hidden="true"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>( <span class="dt">Type =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&#39;A&#39;</span>,<span class="st">&#39;B&#39;</span>,<span class="st">&#39;C&#39;</span>,<span class="st">&#39;D&#39;</span>), <span class="dt">each=</span><span class="dv">2</span>), <span class="dt">Value=</span><span class="kw">rnorm</span>(<span class="dv">8</span>) )</span>
<span id="cb212-2"><a href="flow-control.html#cb212-2" aria-hidden="true"></a>df</span></code></pre></div>
<pre><code>##   Type        Value
## 1    A -0.384094566
## 2    A -0.984740896
## 3    B -1.756983024
## 4    B  0.003044046
## 5    C  1.599202843
## 6    C  0.498389702
## 7    D -0.505485955
## 8    D -0.512469788</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="flow-control.html#cb214-1" aria-hidden="true"></a><span class="co"># df %&gt;% filter( Type == &#39;A&#39; | Type == &#39;B&#39; )</span></span>
<span id="cb214-2"><a href="flow-control.html#cb214-2" aria-hidden="true"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>( Type <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;A&#39;</span>,<span class="st">&#39;B&#39;</span>) )   <span class="co"># Only rows with Type == &#39;A&#39; or Type ==&#39;B&#39;</span></span></code></pre></div>
<pre><code>##   Type        Value
## 1    A -0.384094566
## 2    A -0.984740896
## 3    B -1.756983024
## 4    B  0.003044046</code></pre>
</div>
<div id="decision-statements" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Decision statements</h2>
<div id="in-dplyr-wrangling" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> In <code>dplyr</code> wrangling</h3>
<p>A very common task within a data wrangling pipeline is to create a new column that recodes information in another column. Consider the following data frame that has name, gender, and political party affiliation of six individuals. In this example, we’ve coded male/female as 1/0 and political party as 1,2,3 for democratic, republican, and independent.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="flow-control.html#cb216-1" aria-hidden="true"></a>people &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb216-2"><a href="flow-control.html#cb216-2" aria-hidden="true"></a>  <span class="dt">name =</span> <span class="kw">c</span>(<span class="st">&#39;Barack&#39;</span>,<span class="st">&#39;Michelle&#39;</span>, <span class="st">&#39;George&#39;</span>, <span class="st">&#39;Laura&#39;</span>, <span class="st">&#39;Bernie&#39;</span>, <span class="st">&#39;Deborah&#39;</span>),</span>
<span id="cb216-3"><a href="flow-control.html#cb216-3" aria-hidden="true"></a>  <span class="dt">gender =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb216-4"><a href="flow-control.html#cb216-4" aria-hidden="true"></a>  <span class="dt">party =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>)</span>
<span id="cb216-5"><a href="flow-control.html#cb216-5" aria-hidden="true"></a>)</span>
<span id="cb216-6"><a href="flow-control.html#cb216-6" aria-hidden="true"></a>people</span></code></pre></div>
<pre><code>##       name gender party
## 1   Barack      1     1
## 2 Michelle      0     1
## 3   George      1     2
## 4    Laura      0     2
## 5   Bernie      1     3
## 6  Deborah      0     3</code></pre>
<p>The command <code>ifelse()</code> works quite well within a <code>dplyr::mutate()</code> command and it responds correctly to vectors. The syntax is <code>ifelse( logical.expression, TrueValue, FalseValue )</code>.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="flow-control.html#cb218-1" aria-hidden="true"></a>people &lt;-<span class="st"> </span>people <span class="op">%&gt;%</span></span>
<span id="cb218-2"><a href="flow-control.html#cb218-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">gender2 =</span> <span class="kw">ifelse</span>( gender <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="st">&#39;Female&#39;</span>, <span class="st">&#39;Male&#39;</span>) )</span>
<span id="cb218-3"><a href="flow-control.html#cb218-3" aria-hidden="true"></a>people</span></code></pre></div>
<pre><code>##       name gender party gender2
## 1   Barack      1     1    Male
## 2 Michelle      0     1  Female
## 3   George      1     2    Male
## 4    Laura      0     2  Female
## 5   Bernie      1     3    Male
## 6  Deborah      0     3  Female</code></pre>
<p>To do something similar for the case where we have 3 or more categories, we could use the <code>ifelse()</code> command repeatedly to address each category level separately. However because the <code>ifelse</code> command is limited to just two cases, it would be nice if there was a generalization to multiple categories. The <code>dplyr::case_when</code> function is that generalization. The syntax is <code>case_when( logicalExpression1~Value1, logicalExpression2~Value2, ... )</code>. We can have as many <code>LogicalExpression ~ Value</code> pairs as we want.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="flow-control.html#cb220-1" aria-hidden="true"></a>people &lt;-<span class="st"> </span>people <span class="op">%&gt;%</span></span>
<span id="cb220-2"><a href="flow-control.html#cb220-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">party2 =</span> <span class="kw">case_when</span>( party <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> &#39;Democratic&#39;</span>, </span>
<span id="cb220-3"><a href="flow-control.html#cb220-3" aria-hidden="true"></a>                              party <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> &#39;Republican&#39;</span>, </span>
<span id="cb220-4"><a href="flow-control.html#cb220-4" aria-hidden="true"></a>                              party <span class="op">==</span><span class="st"> </span><span class="dv">3</span> <span class="op">~</span><span class="st"> &#39;Independent&#39;</span>,</span>
<span id="cb220-5"><a href="flow-control.html#cb220-5" aria-hidden="true"></a>                              <span class="ot">TRUE</span>       <span class="op">~</span><span class="st"> &#39;None Stated&#39;</span> ) )</span>
<span id="cb220-6"><a href="flow-control.html#cb220-6" aria-hidden="true"></a>people</span></code></pre></div>
<pre><code>##       name gender party gender2      party2
## 1   Barack      1     1    Male  Democratic
## 2 Michelle      0     1  Female  Democratic
## 3   George      1     2    Male  Republican
## 4    Laura      0     2  Female  Republican
## 5   Bernie      1     3    Male Independent
## 6  Deborah      0     3  Female Independent</code></pre>
<p>Often the last case is a catch all case where the logical expression will ALWAYS evaluate to TRUE and this is the value for all other input.</p>
<p>As another alternative to the problem of recoding factor levels, we could use the command <code>forcats::fct_recode()</code> function. See the Factors chapter in this book for more information about factors.</p>
</div>
<div id="general-if-else" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> General <code>if else</code></h3>
<p>While programming, I often need to perform expressions that are more complicated than what the <code>ifelse()</code> command can do. The general format of an <code>if</code> or and <code>if else</code> is presented here.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="flow-control.html#cb222-1" aria-hidden="true"></a><span class="co"># Simplest version</span></span>
<span id="cb222-2"><a href="flow-control.html#cb222-2" aria-hidden="true"></a><span class="cf">if</span>( logical.test ){</span>
<span id="cb222-3"><a href="flow-control.html#cb222-3" aria-hidden="true"></a>  expression        <span class="co"># can be many lines of code</span></span>
<span id="cb222-4"><a href="flow-control.html#cb222-4" aria-hidden="true"></a>}</span>
<span id="cb222-5"><a href="flow-control.html#cb222-5" aria-hidden="true"></a></span>
<span id="cb222-6"><a href="flow-control.html#cb222-6" aria-hidden="true"></a><span class="co"># Including the optional else</span></span>
<span id="cb222-7"><a href="flow-control.html#cb222-7" aria-hidden="true"></a><span class="cf">if</span>( logical.test ){</span>
<span id="cb222-8"><a href="flow-control.html#cb222-8" aria-hidden="true"></a>  expression</span>
<span id="cb222-9"><a href="flow-control.html#cb222-9" aria-hidden="true"></a>}<span class="cf">else</span>{</span>
<span id="cb222-10"><a href="flow-control.html#cb222-10" aria-hidden="true"></a>  expression</span>
<span id="cb222-11"><a href="flow-control.html#cb222-11" aria-hidden="true"></a>}</span></code></pre></div>
<p>where the else part is optional.</p>
<p>Suppose that I have a piece of code that generates a random variable from the Binomial distribution with one sample (essentially just flipping a coin) but I’d like to label it head or tails instead of one or zero.</p>
<p>What is happening is that the test expression inside the <code>if()</code> is evaluated and if it is true, then the subsequent statement is executed. If the test expression is false, the next statement is skipped. The way the R language is defined, only the first statement after the if statement is executed (or skipped) depending on the test expression. If we want multiple statements to be executed (or skipped), we will wrap those expressions in curly brackets <code>{ }</code>. I find it easier to follow the <code>if else</code> logic when I see the curly brackets so I use them even when there is only one expression to be executed. Also notice that the RStudio editor indents the code that might be skipped to try help give you a hint that it will be conditionally evaluated.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="flow-control.html#cb223-1" aria-hidden="true"></a><span class="co"># Flip the coin, and we get a 0 or 1</span></span>
<span id="cb223-2"><a href="flow-control.html#cb223-2" aria-hidden="true"></a>result &lt;-<span class="st"> </span><span class="kw">rbinom</span>(<span class="dt">n=</span><span class="dv">1</span>, <span class="dt">size=</span><span class="dv">1</span>, <span class="dt">prob=</span><span class="fl">0.5</span>)</span>
<span id="cb223-3"><a href="flow-control.html#cb223-3" aria-hidden="true"></a>result</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="flow-control.html#cb225-1" aria-hidden="true"></a><span class="co"># convert the 0/1 to Tail/Head</span></span>
<span id="cb225-2"><a href="flow-control.html#cb225-2" aria-hidden="true"></a><span class="cf">if</span>( result <span class="op">==</span><span class="st"> </span><span class="dv">0</span> ){</span>
<span id="cb225-3"><a href="flow-control.html#cb225-3" aria-hidden="true"></a>  result &lt;-<span class="st"> &#39;Tail&#39;</span></span>
<span id="cb225-4"><a href="flow-control.html#cb225-4" aria-hidden="true"></a>  <span class="kw">print</span>(<span class="st">&quot; in the if statement, got a Tail! &quot;</span>)</span>
<span id="cb225-5"><a href="flow-control.html#cb225-5" aria-hidden="true"></a>}<span class="cf">else</span>{</span>
<span id="cb225-6"><a href="flow-control.html#cb225-6" aria-hidden="true"></a>  result &lt;-<span class="st"> &#39;Head&#39;</span></span>
<span id="cb225-7"><a href="flow-control.html#cb225-7" aria-hidden="true"></a>  <span class="kw">print</span>(<span class="st">&quot;In the else part!&quot;</span>) </span>
<span id="cb225-8"><a href="flow-control.html#cb225-8" aria-hidden="true"></a>}</span></code></pre></div>
<pre><code>## [1] &quot; in the if statement, got a Tail! &quot;</code></pre>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="flow-control.html#cb227-1" aria-hidden="true"></a>result</span></code></pre></div>
<pre><code>## [1] &quot;Tail&quot;</code></pre>
<p>Run this code several times until you get both cases several times. Notice that in the Environment tab in RStudio, the value of the variable <code>result</code> changes as you execute the code repeatedly.</p>
<p>To provide a more statistically interesting example of when we might use an if else statement, consider the calculation of a p-value in a 1-sample t-test with a two-sided alternative. Recall the calculate was:</p>
<ul>
<li><p>If the test statistic t is negative, then p-value = <span class="math inline">\(2*P\left(T_{df} \le t \right)\)</span></p></li>
<li><p>If the test statistic t is positive, then p-value = <span class="math inline">\(2*P\left(T_{df} \ge t \right)\)</span>.</p></li>
</ul>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="flow-control.html#cb229-1" aria-hidden="true"></a><span class="co"># create some fake data</span></span>
<span id="cb229-2"><a href="flow-control.html#cb229-2" aria-hidden="true"></a>n  &lt;-<span class="st"> </span><span class="dv">20</span>   <span class="co"># suppose this had a sample size of 20</span></span>
<span id="cb229-3"><a href="flow-control.html#cb229-3" aria-hidden="true"></a>x  &lt;-<span class="st"> </span><span class="kw">rnorm</span>(n, <span class="dt">mean=</span><span class="dv">2</span>, <span class="dt">sd=</span><span class="dv">1</span>)</span>
<span id="cb229-4"><a href="flow-control.html#cb229-4" aria-hidden="true"></a></span>
<span id="cb229-5"><a href="flow-control.html#cb229-5" aria-hidden="true"></a><span class="co"># testing H0: mu = 0  vs Ha: mu =/= 0</span></span>
<span id="cb229-6"><a href="flow-control.html#cb229-6" aria-hidden="true"></a>t  &lt;-<span class="st"> </span>( <span class="kw">mean</span>(x) <span class="op">-</span><span class="st"> </span><span class="dv">0</span> ) <span class="op">/</span><span class="st"> </span>( <span class="kw">sd</span>(x)<span class="op">/</span><span class="kw">sqrt</span>(n) )</span>
<span id="cb229-7"><a href="flow-control.html#cb229-7" aria-hidden="true"></a>df &lt;-<span class="st"> </span>n<span class="dv">-1</span></span>
<span id="cb229-8"><a href="flow-control.html#cb229-8" aria-hidden="true"></a><span class="cf">if</span>( t <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> ){</span>
<span id="cb229-9"><a href="flow-control.html#cb229-9" aria-hidden="true"></a>  p.value &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">pt</span>(t, df)</span>
<span id="cb229-10"><a href="flow-control.html#cb229-10" aria-hidden="true"></a>}<span class="cf">else</span>{</span>
<span id="cb229-11"><a href="flow-control.html#cb229-11" aria-hidden="true"></a>  p.value &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pt</span>(t, df))</span>
<span id="cb229-12"><a href="flow-control.html#cb229-12" aria-hidden="true"></a>}</span>
<span id="cb229-13"><a href="flow-control.html#cb229-13" aria-hidden="true"></a></span>
<span id="cb229-14"><a href="flow-control.html#cb229-14" aria-hidden="true"></a><span class="co"># print the resulting p-value</span></span>
<span id="cb229-15"><a href="flow-control.html#cb229-15" aria-hidden="true"></a>p.value</span></code></pre></div>
<pre><code>## [1] 7.453989e-10</code></pre>
<p>This sort of logic is necessary for the calculation of p-values and so something similar is found somewhere inside the <code>t.test()</code> function.</p>
<p>Finally we can nest if else statements together to allow you to write code that has many different execution routes.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="flow-control.html#cb231-1" aria-hidden="true"></a><span class="co"># randomly grab a number between 0,5 and round it up to 1,2, ..., 5</span></span>
<span id="cb231-2"><a href="flow-control.html#cb231-2" aria-hidden="true"></a>birth.order &lt;-<span class="st"> </span><span class="kw">ceiling</span>( <span class="kw">runif</span>(<span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">5</span>) )  </span>
<span id="cb231-3"><a href="flow-control.html#cb231-3" aria-hidden="true"></a><span class="cf">if</span>( birth.order <span class="op">==</span><span class="st"> </span><span class="dv">1</span> ){</span>
<span id="cb231-4"><a href="flow-control.html#cb231-4" aria-hidden="true"></a>  <span class="kw">print</span>(<span class="st">&#39;The first child had more rules to follow&#39;</span>)</span>
<span id="cb231-5"><a href="flow-control.html#cb231-5" aria-hidden="true"></a>}<span class="cf">else</span> <span class="cf">if</span>( birth.order <span class="op">==</span><span class="st"> </span><span class="dv">2</span> ){</span>
<span id="cb231-6"><a href="flow-control.html#cb231-6" aria-hidden="true"></a>  <span class="kw">print</span>(<span class="st">&#39;The second child was ignored&#39;</span>)</span>
<span id="cb231-7"><a href="flow-control.html#cb231-7" aria-hidden="true"></a>}<span class="cf">else</span> <span class="cf">if</span>( birth.order <span class="op">==</span><span class="st"> </span><span class="dv">3</span> ){</span>
<span id="cb231-8"><a href="flow-control.html#cb231-8" aria-hidden="true"></a>  <span class="kw">print</span>(<span class="st">&#39;The third child was spoiled&#39;</span>)</span>
<span id="cb231-9"><a href="flow-control.html#cb231-9" aria-hidden="true"></a>}<span class="cf">else</span>{</span>
<span id="cb231-10"><a href="flow-control.html#cb231-10" aria-hidden="true"></a>  <span class="co"># if birth.order is anything other than 1, 2 or 3</span></span>
<span id="cb231-11"><a href="flow-control.html#cb231-11" aria-hidden="true"></a>  <span class="kw">print</span>(<span class="st">&#39;No more unfounded generalizations!&#39;</span>)</span>
<span id="cb231-12"><a href="flow-control.html#cb231-12" aria-hidden="true"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;The first child had more rules to follow&quot;</code></pre>
</div>
</div>
<div id="loops" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Loops</h2>
<p>It is often desirable to write code that does the same thing over and over, relieving you of the burden of repetitive tasks. To do this we’ll need a way to tell the computer to repeat some section of code over and over. However we’ll usually want something small to change each time through the loop and some way to tell the computer how many times to run the loop or when to stop repeating.</p>
<div id="while-loops" class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> <code>while</code> Loops</h3>
<p>The basic form of a <code>while</code> loop is as follows:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="flow-control.html#cb233-1" aria-hidden="true"></a><span class="co"># while loop with multiple lines to be repeated</span></span>
<span id="cb233-2"><a href="flow-control.html#cb233-2" aria-hidden="true"></a><span class="cf">while</span>( logical.test ){</span>
<span id="cb233-3"><a href="flow-control.html#cb233-3" aria-hidden="true"></a>  expression1      <span class="co"># multiple lines of R code</span></span>
<span id="cb233-4"><a href="flow-control.html#cb233-4" aria-hidden="true"></a>  expression2</span>
<span id="cb233-5"><a href="flow-control.html#cb233-5" aria-hidden="true"></a>}</span></code></pre></div>
<p>The computer will first evaluate the test expression. If it is true, it will execute the code once. It will then evaluate the test expression again to see if it is still true, and if so it will execute the code section a third time. The computer will continue with this process until the test expression finally evaluates as false.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="flow-control.html#cb234-1" aria-hidden="true"></a><span class="cf">while</span>( x <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span> ){</span>
<span id="cb234-2"><a href="flow-control.html#cb234-2" aria-hidden="true"></a>  <span class="kw">print</span>( <span class="kw">paste</span>(<span class="st">&quot;In loop and x is now:&quot;</span>, x) )  <span class="co"># print out current value of x</span></span>
<span id="cb234-3"><a href="flow-control.html#cb234-3" aria-hidden="true"></a>  x &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>x</span>
<span id="cb234-4"><a href="flow-control.html#cb234-4" aria-hidden="true"></a>}</span></code></pre></div>
<pre><code>## Warning in while (x &lt; 100) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<pre><code>##  [1] &quot;In loop and x is now: 1.67028844627917&quot; 
##  [2] &quot;In loop and x is now: 0.98397770852988&quot; 
##  [3] &quot;In loop and x is now: 1.87980007558148&quot; 
##  [4] &quot;In loop and x is now: 1.27353101965472&quot; 
##  [5] &quot;In loop and x is now: 2.73194396262364&quot; 
##  [6] &quot;In loop and x is now: 2.38122232698375&quot; 
##  [7] &quot;In loop and x is now: 2.83523716728757&quot; 
##  [8] &quot;In loop and x is now: 3.85581590524167&quot; 
##  [9] &quot;In loop and x is now: 3.34222424449003&quot; 
## [10] &quot;In loop and x is now: 2.24422198541099&quot; 
## [11] &quot;In loop and x is now: 1.49182096886733&quot; 
## [12] &quot;In loop and x is now: 1.68135380542081&quot; 
## [13] &quot;In loop and x is now: 0.880084816957307&quot;
## [14] &quot;In loop and x is now: 1.39378063550916&quot; 
## [15] &quot;In loop and x is now: 3.44435418162452&quot; 
## [16] &quot;In loop and x is now: 1.88668910485114&quot; 
## [17] &quot;In loop and x is now: 1.79119691627079&quot; 
## [18] &quot;In loop and x is now: 1.64121363898489&quot; 
## [19] &quot;In loop and x is now: 2.69879420711938&quot; 
## [20] &quot;In loop and x is now: 1.66858195261478&quot;</code></pre>
<pre><code>## Warning in while (x &lt; 100) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<pre><code>##  [1] &quot;In loop and x is now: 3.34057689255834&quot;
##  [2] &quot;In loop and x is now: 1.96795541705976&quot;
##  [3] &quot;In loop and x is now: 3.75960015116297&quot;
##  [4] &quot;In loop and x is now: 2.54706203930944&quot;
##  [5] &quot;In loop and x is now: 5.46388792524728&quot;
##  [6] &quot;In loop and x is now: 4.7624446539675&quot; 
##  [7] &quot;In loop and x is now: 5.67047433457515&quot;
##  [8] &quot;In loop and x is now: 7.71163181048335&quot;
##  [9] &quot;In loop and x is now: 6.68444848898005&quot;
## [10] &quot;In loop and x is now: 4.48844397082198&quot;
## [11] &quot;In loop and x is now: 2.98364193773467&quot;
## [12] &quot;In loop and x is now: 3.36270761084163&quot;
## [13] &quot;In loop and x is now: 1.76016963391461&quot;
## [14] &quot;In loop and x is now: 2.78756127101833&quot;
## [15] &quot;In loop and x is now: 6.88870836324905&quot;
## [16] &quot;In loop and x is now: 3.77337820970229&quot;
## [17] &quot;In loop and x is now: 3.58239383254158&quot;
## [18] &quot;In loop and x is now: 3.28242727796978&quot;
## [19] &quot;In loop and x is now: 5.39758841423877&quot;
## [20] &quot;In loop and x is now: 3.33716390522956&quot;</code></pre>
<pre><code>## Warning in while (x &lt; 100) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<pre><code>##  [1] &quot;In loop and x is now: 6.68115378511668&quot;
##  [2] &quot;In loop and x is now: 3.93591083411952&quot;
##  [3] &quot;In loop and x is now: 7.51920030232593&quot;
##  [4] &quot;In loop and x is now: 5.09412407861888&quot;
##  [5] &quot;In loop and x is now: 10.9277758504946&quot;
##  [6] &quot;In loop and x is now: 9.52488930793499&quot;
##  [7] &quot;In loop and x is now: 11.3409486691503&quot;
##  [8] &quot;In loop and x is now: 15.4232636209667&quot;
##  [9] &quot;In loop and x is now: 13.3688969779601&quot;
## [10] &quot;In loop and x is now: 8.97688794164396&quot;
## [11] &quot;In loop and x is now: 5.96728387546934&quot;
## [12] &quot;In loop and x is now: 6.72541522168325&quot;
## [13] &quot;In loop and x is now: 3.52033926782923&quot;
## [14] &quot;In loop and x is now: 5.57512254203665&quot;
## [15] &quot;In loop and x is now: 13.7774167264981&quot;
## [16] &quot;In loop and x is now: 7.54675641940458&quot;
## [17] &quot;In loop and x is now: 7.16478766508317&quot;
## [18] &quot;In loop and x is now: 6.56485455593956&quot;
## [19] &quot;In loop and x is now: 10.7951768284775&quot;
## [20] &quot;In loop and x is now: 6.67432781045911&quot;</code></pre>
<pre><code>## Warning in while (x &lt; 100) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<pre><code>##  [1] &quot;In loop and x is now: 13.3623075702334&quot;
##  [2] &quot;In loop and x is now: 7.87182166823904&quot;
##  [3] &quot;In loop and x is now: 15.0384006046519&quot;
##  [4] &quot;In loop and x is now: 10.1882481572378&quot;
##  [5] &quot;In loop and x is now: 21.8555517009891&quot;
##  [6] &quot;In loop and x is now: 19.04977861587&quot;  
##  [7] &quot;In loop and x is now: 22.6818973383006&quot;
##  [8] &quot;In loop and x is now: 30.8465272419334&quot;
##  [9] &quot;In loop and x is now: 26.7377939559202&quot;
## [10] &quot;In loop and x is now: 17.9537758832879&quot;
## [11] &quot;In loop and x is now: 11.9345677509387&quot;
## [12] &quot;In loop and x is now: 13.4508304433665&quot;
## [13] &quot;In loop and x is now: 7.04067853565846&quot;
## [14] &quot;In loop and x is now: 11.1502450840733&quot;
## [15] &quot;In loop and x is now: 27.5548334529962&quot;
## [16] &quot;In loop and x is now: 15.0935128388092&quot;
## [17] &quot;In loop and x is now: 14.3295753301663&quot;
## [18] &quot;In loop and x is now: 13.1297091118791&quot;
## [19] &quot;In loop and x is now: 21.5903536569551&quot;
## [20] &quot;In loop and x is now: 13.3486556209182&quot;</code></pre>
<pre><code>## Warning in while (x &lt; 100) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<pre><code>##  [1] &quot;In loop and x is now: 26.7246151404667&quot;
##  [2] &quot;In loop and x is now: 15.7436433364781&quot;
##  [3] &quot;In loop and x is now: 30.0768012093037&quot;
##  [4] &quot;In loop and x is now: 20.3764963144755&quot;
##  [5] &quot;In loop and x is now: 43.7111034019782&quot;
##  [6] &quot;In loop and x is now: 38.09955723174&quot;  
##  [7] &quot;In loop and x is now: 45.3637946766012&quot;
##  [8] &quot;In loop and x is now: 61.6930544838668&quot;
##  [9] &quot;In loop and x is now: 53.4755879118404&quot;
## [10] &quot;In loop and x is now: 35.9075517665758&quot;
## [11] &quot;In loop and x is now: 23.8691355018773&quot;
## [12] &quot;In loop and x is now: 26.901660886733&quot; 
## [13] &quot;In loop and x is now: 14.0813570713169&quot;
## [14] &quot;In loop and x is now: 22.3004901681466&quot;
## [15] &quot;In loop and x is now: 55.1096669059924&quot;
## [16] &quot;In loop and x is now: 30.1870256776183&quot;
## [17] &quot;In loop and x is now: 28.6591506603327&quot;
## [18] &quot;In loop and x is now: 26.2594182237582&quot;
## [19] &quot;In loop and x is now: 43.1807073139102&quot;
## [20] &quot;In loop and x is now: 26.6973112418365&quot;</code></pre>
<pre><code>## Warning in while (x &lt; 100) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<pre><code>##  [1] &quot;In loop and x is now: 53.4492302809334&quot;
##  [2] &quot;In loop and x is now: 31.4872866729561&quot;
##  [3] &quot;In loop and x is now: 60.1536024186075&quot;
##  [4] &quot;In loop and x is now: 40.752992628951&quot; 
##  [5] &quot;In loop and x is now: 87.4222068039565&quot;
##  [6] &quot;In loop and x is now: 76.19911446348&quot;  
##  [7] &quot;In loop and x is now: 90.7275893532023&quot;
##  [8] &quot;In loop and x is now: 123.386108967734&quot;
##  [9] &quot;In loop and x is now: 106.951175823681&quot;
## [10] &quot;In loop and x is now: 71.8151035331517&quot;
## [11] &quot;In loop and x is now: 47.7382710037547&quot;
## [12] &quot;In loop and x is now: 53.803321773466&quot; 
## [13] &quot;In loop and x is now: 28.1627141426338&quot;
## [14] &quot;In loop and x is now: 44.6009803362932&quot;
## [15] &quot;In loop and x is now: 110.219333811985&quot;
## [16] &quot;In loop and x is now: 60.3740513552366&quot;
## [17] &quot;In loop and x is now: 57.3183013206654&quot;
## [18] &quot;In loop and x is now: 52.5188364475165&quot;
## [19] &quot;In loop and x is now: 86.3614146278203&quot;
## [20] &quot;In loop and x is now: 53.3946224836729&quot;</code></pre>
<pre><code>## Warning in while (x &lt; 100) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<p>It is very common to forget to update the variable used in the test expression. In that case the test expression will never be false and the computer will never stop. This unfortunate situation is called an <em>infinite loop</em>.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="flow-control.html#cb248-1" aria-hidden="true"></a><span class="co"># Example of an infinite loop!  Do not Run!</span></span>
<span id="cb248-2"><a href="flow-control.html#cb248-2" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb248-3"><a href="flow-control.html#cb248-3" aria-hidden="true"></a><span class="cf">while</span>( x <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span> ){</span>
<span id="cb248-4"><a href="flow-control.html#cb248-4" aria-hidden="true"></a>  <span class="kw">print</span>(x)</span>
<span id="cb248-5"><a href="flow-control.html#cb248-5" aria-hidden="true"></a>}</span></code></pre></div>
</div>
<div id="for-loops" class="section level3" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> <code>for</code> Loops</h3>
<p>Often we know ahead of time exactly how many times we should go through the loop. We could use a <code>while</code> loop, but there is also a second construct called a <code>for</code> loop that is quite useful.</p>
<p>The format of a for loop is as follows:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="flow-control.html#cb249-1" aria-hidden="true"></a><span class="cf">for</span>( index <span class="cf">in</span> vector ){</span>
<span id="cb249-2"><a href="flow-control.html#cb249-2" aria-hidden="true"></a>  expression1</span>
<span id="cb249-3"><a href="flow-control.html#cb249-3" aria-hidden="true"></a>  expression2</span>
<span id="cb249-4"><a href="flow-control.html#cb249-4" aria-hidden="true"></a>}</span></code></pre></div>
<p>where the <code>index</code> variable will take on each value in <code>vector</code> in succession and then statement will be evaluated. As always, statement can be multiple statements wrapped in curly brackets {}.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="flow-control.html#cb250-1" aria-hidden="true"></a><span class="cf">for</span>( i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span> ){</span>
<span id="cb250-2"><a href="flow-control.html#cb250-2" aria-hidden="true"></a>  <span class="kw">print</span>( <span class="kw">paste</span>(<span class="st">&quot;In the loop and current value is i =&quot;</span>, i) )</span>
<span id="cb250-3"><a href="flow-control.html#cb250-3" aria-hidden="true"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;In the loop and current value is i = 1&quot;
## [1] &quot;In the loop and current value is i = 2&quot;
## [1] &quot;In the loop and current value is i = 3&quot;
## [1] &quot;In the loop and current value is i = 4&quot;
## [1] &quot;In the loop and current value is i = 5&quot;</code></pre>
<p>What is happening is that <code>i</code> starts out as the first element of the vector <code>c(1,2,3,4,5)</code>, in this case, <code>i</code> starts out as 1. After <code>i</code> is assigned, the statements in the curly brackets are then evaluated. Once we get to the end of those statements, i is reassigned to the next element of the vector <code>c(1,2,3,4,5)</code>. This process is repeated until <code>i</code> has been assigned to each element of the given vector. It is somewhat traditional to use <code>i</code> and <code>j</code> and the index variables, but they could be anything.</p>
<p>While the recipe above is the minimal definition of a <code>for</code> loop, there is often a bit more set up to create a result vector or data frame that will store the steps of the <code>for</code> loop.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="flow-control.html#cb252-1" aria-hidden="true"></a>N &lt;-<span class="st"> </span><span class="dv">10</span> </span>
<span id="cb252-2"><a href="flow-control.html#cb252-2" aria-hidden="true"></a>result &lt;-<span class="st"> </span><span class="ot">NULL</span>     <span class="co"># Make a place to store each step of the for loop</span></span>
<span id="cb252-3"><a href="flow-control.html#cb252-3" aria-hidden="true"></a><span class="cf">for</span>( i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>N ){</span>
<span id="cb252-4"><a href="flow-control.html#cb252-4" aria-hidden="true"></a>  <span class="co"># Perhaps some code that calculates something</span></span>
<span id="cb252-5"><a href="flow-control.html#cb252-5" aria-hidden="true"></a>  result[i] &lt;-<span class="st">  </span><span class="co"># something </span></span>
<span id="cb252-6"><a href="flow-control.html#cb252-6" aria-hidden="true"></a>}</span></code></pre></div>
<p>We can use this loop to calculate the first <span class="math inline">\(10\)</span> elements of the Fibonacci sequence. Recall that the Fibonacci sequence is defined by <span class="math inline">\(F_{n}=F_{n-1}+F_{n-2}\)</span> where <span class="math inline">\(F_{1}=0\)</span> and <span class="math inline">\(F_{2}=1\)</span>.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="flow-control.html#cb253-1" aria-hidden="true"></a>N &lt;-<span class="st"> </span><span class="dv">10</span>                <span class="co"># How many Fibonacci numbers to create</span></span>
<span id="cb253-2"><a href="flow-control.html#cb253-2" aria-hidden="true"></a>F &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, N)         <span class="co"># initialize a vector of zeros</span></span>
<span id="cb253-3"><a href="flow-control.html#cb253-3" aria-hidden="true"></a>F[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">0</span>              <span class="co"># F[1]  should be zero</span></span>
<span id="cb253-4"><a href="flow-control.html#cb253-4" aria-hidden="true"></a>F[<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">1</span>              <span class="co"># F[2]  should be 1</span></span>
<span id="cb253-5"><a href="flow-control.html#cb253-5" aria-hidden="true"></a><span class="kw">print</span>(F)               <span class="co"># Show the value of F before the loop </span></span></code></pre></div>
<pre><code>##  [1] 0 1 0 0 0 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="flow-control.html#cb255-1" aria-hidden="true"></a><span class="cf">for</span>( n <span class="cf">in</span> <span class="dv">3</span><span class="op">:</span>N ){</span>
<span id="cb255-2"><a href="flow-control.html#cb255-2" aria-hidden="true"></a>  F[n] &lt;-<span class="st"> </span>F[n<span class="dv">-1</span>] <span class="op">+</span><span class="st"> </span>F[n<span class="dv">-2</span>] <span class="co"># define based on the prior two values</span></span>
<span id="cb255-3"><a href="flow-control.html#cb255-3" aria-hidden="true"></a>  <span class="kw">print</span>(F)                <span class="co"># show F at each step of the loop</span></span>
<span id="cb255-4"><a href="flow-control.html#cb255-4" aria-hidden="true"></a>}</span></code></pre></div>
<pre><code>##  [1] 0 1 1 0 0 0 0 0 0 0
##  [1] 0 1 1 2 0 0 0 0 0 0
##  [1] 0 1 1 2 3 0 0 0 0 0
##  [1] 0 1 1 2 3 5 0 0 0 0
##  [1] 0 1 1 2 3 5 8 0 0 0
##  [1]  0  1  1  2  3  5  8 13  0  0
##  [1]  0  1  1  2  3  5  8 13 21  0
##  [1]  0  1  1  2  3  5  8 13 21 34</code></pre>
<p>For a more statistical case where we might want to perform a loop, we can consider the creation of the bootstrap estimate of a sampling distribution. The bootstrap distribution is created by repeatedly re-sampling with replacement from our original sample data, running the analysis for each re-sample, and then saving the statistic of interest.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="flow-control.html#cb257-1" aria-hidden="true"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb257-2"><a href="flow-control.html#cb257-2" aria-hidden="true"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb257-3"><a href="flow-control.html#cb257-3" aria-hidden="true"></a></span>
<span id="cb257-4"><a href="flow-control.html#cb257-4" aria-hidden="true"></a><span class="co"># bootstrap from the trees dataset.</span></span>
<span id="cb257-5"><a href="flow-control.html#cb257-5" aria-hidden="true"></a>SampDist &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">xbar=</span><span class="ot">NULL</span>) <span class="co"># Make a data frame to store the means </span></span>
<span id="cb257-6"><a href="flow-control.html#cb257-6" aria-hidden="true"></a><span class="cf">for</span>( i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">1000</span> ){</span>
<span id="cb257-7"><a href="flow-control.html#cb257-7" aria-hidden="true"></a>  <span class="co">## Do some stuff</span></span>
<span id="cb257-8"><a href="flow-control.html#cb257-8" aria-hidden="true"></a>  boot.data &lt;-<span class="st"> </span>trees <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">sample_frac</span>(<span class="dt">replace=</span><span class="ot">TRUE</span>)  </span>
<span id="cb257-9"><a href="flow-control.html#cb257-9" aria-hidden="true"></a>  boot.stat &lt;-<span class="st"> </span>boot.data <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">xbar=</span><span class="kw">mean</span>(Height)) <span class="co"># 1x1 data frame</span></span>
<span id="cb257-10"><a href="flow-control.html#cb257-10" aria-hidden="true"></a>  </span>
<span id="cb257-11"><a href="flow-control.html#cb257-11" aria-hidden="true"></a>  <span class="co">## Save the result as a new row in the output data frame</span></span>
<span id="cb257-12"><a href="flow-control.html#cb257-12" aria-hidden="true"></a>  SampDist &lt;-<span class="st"> </span><span class="kw">rbind</span>( SampDist, boot.stat )</span>
<span id="cb257-13"><a href="flow-control.html#cb257-13" aria-hidden="true"></a>}</span>
<span id="cb257-14"><a href="flow-control.html#cb257-14" aria-hidden="true"></a></span>
<span id="cb257-15"><a href="flow-control.html#cb257-15" aria-hidden="true"></a><span class="co"># Check out the structure of the result</span></span>
<span id="cb257-16"><a href="flow-control.html#cb257-16" aria-hidden="true"></a><span class="kw">str</span>(SampDist)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1000 obs. of  1 variable:
##  $ xbar: num  74.5 76 76.8 74.9 74.1 ...</code></pre>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="flow-control.html#cb259-1" aria-hidden="true"></a><span class="co"># Plot the output</span></span>
<span id="cb259-2"><a href="flow-control.html#cb259-2" aria-hidden="true"></a><span class="kw">ggplot</span>(SampDist, <span class="kw">aes</span>(<span class="dt">x=</span>xbar)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb259-3"><a href="flow-control.html#cb259-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_histogram</span>( <span class="dt">binwidth=</span><span class="fl">0.25</span>) <span class="op">+</span></span>
<span id="cb259-4"><a href="flow-control.html#cb259-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&#39;Trees Data: Bootstrap distribution of xbar&#39;</span>)</span></code></pre></div>
<p><img src="06_FlowControl_files/figure-html/ForLoopExample-1.png" width="672" /></p>
</div>
<div id="mosaicdo-loops" class="section level3" number="6.3.3">
<h3><span class="header-section-number">6.3.3</span> <code>mosaic::do()</code> loops</h3>
<p>Many times when using a <code>for</code> loop, we want to save some quantity for each pass through the <code>for</code> loop. Because this is such a common tasks, the <code>mosaic::do()</code> function automates the creation of the output data frame and the saving each repetition. This function is intended to hide the coding steps that often trips up new programmers.</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="flow-control.html#cb260-1" aria-hidden="true"></a><span class="co"># Same Loop </span></span>
<span id="cb260-2"><a href="flow-control.html#cb260-2" aria-hidden="true"></a>SampDist &lt;-<span class="st"> </span>mosaic<span class="op">::</span><span class="kw">do</span>(<span class="dv">1000</span>) <span class="op">*</span><span class="st"> </span>{</span>
<span id="cb260-3"><a href="flow-control.html#cb260-3" aria-hidden="true"></a>  trees <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">sample_frac</span>(<span class="dt">replace=</span><span class="ot">TRUE</span>)  <span class="op">%&gt;%</span></span>
<span id="cb260-4"><a href="flow-control.html#cb260-4" aria-hidden="true"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">xbar=</span><span class="kw">mean</span>(Height)) <span class="op">%&gt;%</span><span class="st">       </span><span class="co"># 1x1 data frame</span></span>
<span id="cb260-5"><a href="flow-control.html#cb260-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">pull</span>(xbar)                                    <span class="co"># Scalar </span></span>
<span id="cb260-6"><a href="flow-control.html#cb260-6" aria-hidden="true"></a>}</span>
<span id="cb260-7"><a href="flow-control.html#cb260-7" aria-hidden="true"></a></span>
<span id="cb260-8"><a href="flow-control.html#cb260-8" aria-hidden="true"></a><span class="co"># Structure of the SampDist object </span></span>
<span id="cb260-9"><a href="flow-control.html#cb260-9" aria-hidden="true"></a><span class="kw">str</span>(SampDist)</span></code></pre></div>
<pre><code>## Classes &#39;do.data.frame&#39; and &#39;data.frame&#39;:    1000 obs. of  1 variable:
##  $ result: num  74.9 75.3 76.9 75.6 77.3 ...
##  - attr(*, &quot;lazy&quot;)=Class &#39;formula&#39;  language ~{     trees %&gt;% dplyr::sample_frac(replace = TRUE) %&gt;% dplyr::summarise(xbar = mean(Height)) %&gt;%  ...
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##  - attr(*, &quot;culler&quot;)=function (object, ...)</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="flow-control.html#cb262-1" aria-hidden="true"></a><span class="co"># Plot the output</span></span>
<span id="cb262-2"><a href="flow-control.html#cb262-2" aria-hidden="true"></a><span class="kw">ggplot</span>(SampDist, <span class="kw">aes</span>(<span class="dt">x=</span>result)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb262-3"><a href="flow-control.html#cb262-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_histogram</span>( <span class="dt">binwidth=</span><span class="fl">0.25</span>) <span class="op">+</span></span>
<span id="cb262-4"><a href="flow-control.html#cb262-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&#39;Trees Data: Bootstrap distribution of xbar&#39;</span>)</span></code></pre></div>
<p><img src="06_FlowControl_files/figure-html/DoLoopExample-1.png" width="672" /></p>
</div>
</div>
<div id="functions" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Functions</h2>
<p>It is very important to be able to define a piece of programming logic that is repeated often. For example, I don’t want to have to always program the mathematical code for calculating the sample variance of a vector of data. Instead I just want to call a function that does everything for me and I don’t have to worry about the details.</p>
<p>While hiding the computational details is nice, fundamentally writing functions allows us to think about our problems at a higher layer of abstraction. For example, most scientists just want to run a t-test on their data and get the appropriate p-value out; they want to focus on their problem and not how to calculate what the appropriate degrees of freedom are.
Another statistical example where functions are important is a bootstrap data analysis where we need to define a function that calculates whatever statistic the research cares about.</p>
<p>The format for defining your own function is</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="flow-control.html#cb263-1" aria-hidden="true"></a>function.name &lt;-<span class="st"> </span><span class="cf">function</span>(arg1, arg2, arg3){</span>
<span id="cb263-2"><a href="flow-control.html#cb263-2" aria-hidden="true"></a>  statement1</span>
<span id="cb263-3"><a href="flow-control.html#cb263-3" aria-hidden="true"></a>  statement2</span>
<span id="cb263-4"><a href="flow-control.html#cb263-4" aria-hidden="true"></a>}</span></code></pre></div>
<p>where <code>arg1</code> is the first argument passed to the function and <code>arg2</code> is the second.</p>
<p>To illustrate how to define your own function, we will define a variance calculating function.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="flow-control.html#cb264-1" aria-hidden="true"></a><span class="co"># define my function</span></span>
<span id="cb264-2"><a href="flow-control.html#cb264-2" aria-hidden="true"></a>my.var &lt;-<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb264-3"><a href="flow-control.html#cb264-3" aria-hidden="true"></a>  n &lt;-<span class="st"> </span><span class="kw">length</span>(x)                <span class="co"># calculate sample size</span></span>
<span id="cb264-4"><a href="flow-control.html#cb264-4" aria-hidden="true"></a>  xbar &lt;-<span class="st"> </span><span class="kw">mean</span>(x)               <span class="co"># calculate sample mean</span></span>
<span id="cb264-5"><a href="flow-control.html#cb264-5" aria-hidden="true"></a>  SSE &lt;-<span class="st"> </span><span class="kw">sum</span>( (x<span class="op">-</span>xbar)<span class="op">^</span><span class="dv">2</span> )      <span class="co"># calculate sum of squared error</span></span>
<span id="cb264-6"><a href="flow-control.html#cb264-6" aria-hidden="true"></a>  v &lt;-<span class="st"> </span>SSE <span class="op">/</span><span class="st"> </span>( n <span class="op">-</span><span class="st"> </span><span class="dv">1</span> )          <span class="co"># &quot;average&quot; squared error</span></span>
<span id="cb264-7"><a href="flow-control.html#cb264-7" aria-hidden="true"></a>  <span class="kw">return</span>(v)                     <span class="co"># result of function is v</span></span>
<span id="cb264-8"><a href="flow-control.html#cb264-8" aria-hidden="true"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="flow-control.html#cb265-1" aria-hidden="true"></a><span class="co"># create a vector that I wish to calculate the variance of</span></span>
<span id="cb265-2"><a href="flow-control.html#cb265-2" aria-hidden="true"></a>test.vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb265-3"><a href="flow-control.html#cb265-3" aria-hidden="true"></a></span>
<span id="cb265-4"><a href="flow-control.html#cb265-4" aria-hidden="true"></a><span class="co"># calculate the variance using my function</span></span>
<span id="cb265-5"><a href="flow-control.html#cb265-5" aria-hidden="true"></a>calculated.var &lt;-<span class="st"> </span><span class="kw">my.var</span>( test.vector )</span>
<span id="cb265-6"><a href="flow-control.html#cb265-6" aria-hidden="true"></a>calculated.var</span></code></pre></div>
<pre><code>## [1] 2.7</code></pre>
<p>Notice that even though I defined my function using <code>x</code> as my vector of data, and passed my function something named <code>test.vector</code>, R does the appropriate renaming. If my function doesn’t modify its input arguments, then R just passes a pointer to the inputs to avoid copying large amounts of data when you call a function. If your function modifies its input, then R will take the input data, copy it, and then pass that new copy to the function. This means that a function cannot modify its arguments. In Computer Science parlance, R does not allow for procedural side effects. Think of the variable <code>x</code> as a placeholder, with it being replaced by whatever gets passed into the function.</p>
<p>When I call a function, the function might cause something to happen (e.g. draw a plot) or it might do some calculates the result is returned by the function and we might want to save that. Inside a function, if I want the result of some calculation saved, I return the result as the output of the function. The way I specify to do this is via the <code>return</code> statement. (Actually R doesn’t completely require this. But the alternative method is less intuitive and I strongly recommend using the <code>return()</code> statement for readability.)</p>
<p>By writing a function, I can use the same chunk of code repeatedly. This means that I can do all my tedious calculations inside the function and just call the function whenever I want and happily ignore the details. Consider the function <code>t.test()</code> which we have used to do all the calculations in a t-test. We could write a similar function using the following code:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="flow-control.html#cb267-1" aria-hidden="true"></a><span class="co"># define my function</span></span>
<span id="cb267-2"><a href="flow-control.html#cb267-2" aria-hidden="true"></a>one.sample.t.test &lt;-<span class="st"> </span><span class="cf">function</span>(input.data, mu0){</span>
<span id="cb267-3"><a href="flow-control.html#cb267-3" aria-hidden="true"></a>  n    &lt;-<span class="st"> </span><span class="kw">length</span>(input.data)</span>
<span id="cb267-4"><a href="flow-control.html#cb267-4" aria-hidden="true"></a>  xbar &lt;-<span class="st"> </span><span class="kw">mean</span>(input.data)</span>
<span id="cb267-5"><a href="flow-control.html#cb267-5" aria-hidden="true"></a>  s    &lt;-<span class="st"> </span><span class="kw">sd</span>(input.data)</span>
<span id="cb267-6"><a href="flow-control.html#cb267-6" aria-hidden="true"></a>  t    &lt;-<span class="st"> </span>(xbar <span class="op">-</span><span class="st"> </span>mu0)<span class="op">/</span>(s <span class="op">/</span><span class="st"> </span><span class="kw">sqrt</span>(n))</span>
<span id="cb267-7"><a href="flow-control.html#cb267-7" aria-hidden="true"></a>  <span class="cf">if</span>( t <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> ){</span>
<span id="cb267-8"><a href="flow-control.html#cb267-8" aria-hidden="true"></a>    p.value &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">pt</span>(t, <span class="dt">df=</span>n<span class="dv">-1</span>)</span>
<span id="cb267-9"><a href="flow-control.html#cb267-9" aria-hidden="true"></a>  }<span class="cf">else</span>{</span>
<span id="cb267-10"><a href="flow-control.html#cb267-10" aria-hidden="true"></a>    p.value &lt;-<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span><span class="kw">pt</span>(t, <span class="dt">df=</span>n<span class="dv">-1</span>))</span>
<span id="cb267-11"><a href="flow-control.html#cb267-11" aria-hidden="true"></a>  }</span>
<span id="cb267-12"><a href="flow-control.html#cb267-12" aria-hidden="true"></a>  <span class="co"># we haven&#39;t addressed how to print things in a organized </span></span>
<span id="cb267-13"><a href="flow-control.html#cb267-13" aria-hidden="true"></a>  <span class="co"># fashion, the following is ugly, but works...</span></span>
<span id="cb267-14"><a href="flow-control.html#cb267-14" aria-hidden="true"></a>  <span class="co"># Notice that this function returns a character string</span></span>
<span id="cb267-15"><a href="flow-control.html#cb267-15" aria-hidden="true"></a>  <span class="co"># with the necessary information in the string.</span></span>
<span id="cb267-16"><a href="flow-control.html#cb267-16" aria-hidden="true"></a>  <span class="kw">return</span>( <span class="kw">paste</span>(<span class="st">&#39;t =&#39;</span>, <span class="kw">round</span>(t, <span class="dt">digits=</span><span class="dv">3</span>), <span class="st">&#39; and p.value =&#39;</span>, <span class="kw">round</span>(p.value, <span class="dv">3</span>)) )</span>
<span id="cb267-17"><a href="flow-control.html#cb267-17" aria-hidden="true"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="flow-control.html#cb268-1" aria-hidden="true"></a><span class="co"># create a vector that I wish apply a one-sample t-test on.</span></span>
<span id="cb268-2"><a href="flow-control.html#cb268-2" aria-hidden="true"></a>test.data &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</span>
<span id="cb268-3"><a href="flow-control.html#cb268-3" aria-hidden="true"></a><span class="kw">one.sample.t.test</span>( test.data, <span class="dt">mu0=</span><span class="dv">2</span> )</span></code></pre></div>
<pre><code>## [1] &quot;t = 3.157  and p.value = 0.008&quot;</code></pre>
<p>Nearly every function we use to do data analysis is written in a similar fashion. Somebody decided it would be convenient to have a function that did an ANOVA analysis and they wrote something similar to the above function, but is a bit grander in scope. Even if you don’t end up writing any of your own functions, knowing how to will help you understand why certain functions you use are designed the way they are.</p>
</div>
<div id="Exercises_FlowControl" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li><p>I’ve created a dataset about presidential candidates for the 2020 US election and it is available on the github website for my STA 141</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="flow-control.html#cb270-1" aria-hidden="true"></a>prez &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&#39;https://raw.githubusercontent.com/dereksonderegger/444/master/data-raw/Prez_Candidate_Birthdays&#39;</span>)</span>
<span id="cb270-2"><a href="flow-control.html#cb270-2" aria-hidden="true"></a>prez</span></code></pre></div>
<pre><code>## # A tibble: 11 x 5
##    Candidate        Gender Birthday   Party AgeOnElection
##    &lt;chr&gt;            &lt;chr&gt;  &lt;date&gt;     &lt;chr&gt;         &lt;dbl&gt;
##  1 Pete Buttigieg   M      1982-01-19 D                38
##  2 Andrew Yang      M      1975-01-13 D                45
##  3 Juilan Castro    M      1976-09-16 D                44
##  4 Beto O&#39;Rourke    M      1972-09-26 D                48
##  5 Cory Booker      M      1969-04-27 D                51
##  6 Kamala Harris    F      1964-10-20 D                56
##  7 Amy Klobucher    F      1960-05-25 D                60
##  8 Elizabeth Warren F      1949-06-22 D                71
##  9 Donald Trump     M      1946-06-14 R                74
## 10 Joe Biden        M      1942-11-20 D                77
## 11 Bernie Sanders   M      1941-09-08 D                79</code></pre>
<ol style="list-style-type: lower-alpha">
<li>Re-code the Gender column to have Male and Female levels. Similarly convert the party variable to be Democratic or Republican.</li>
<li>Bernie Sanders was registered as an Independent up until his 2016 presidential run. Change his political party value into ‘Independent’.</li>
</ol></li>
<li><p>The <span class="math inline">\(Uniform\left(a,b\right)\)</span> distribution is defined on x <span class="math inline">\(\in [a,b]\)</span> and represents a random variable that takes on any value of between <code>a</code> and <code>b</code> with equal probability. Technically since there are an infinite number of values between <code>a</code> and <code>b</code>, each value has a probability of 0 of being selected and I should say each interval of width <span class="math inline">\(d\)</span> has equal probability. It has the density function
<span class="math display">\[f\left(x\right)=\begin{cases}
 \frac{1}{b-a} &amp; \;\;\;\;a\le x\le b\\
 0 &amp; \;\;\;\;\textrm{otherwise}
 \end{cases}\]</span></p>
<p>The R function <code>dunif()</code> evaluates this density function for the above defined values of x, a, and b. Somewhere in that function, there is a chunk of code that evaluates the density for arbitrary values of <span class="math inline">\(x\)</span>. Run this code a few times and notice sometimes the result is <span class="math inline">\(0\)</span> and sometimes it is <span class="math inline">\(1/(10-4)=0.16666667\)</span>.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="flow-control.html#cb272-1" aria-hidden="true"></a>a &lt;-<span class="st"> </span><span class="dv">4</span>      <span class="co"># The min and max values we will use for this example</span></span>
<span id="cb272-2"><a href="flow-control.html#cb272-2" aria-hidden="true"></a>b &lt;-<span class="st"> </span><span class="dv">10</span>     <span class="co"># Could be anything, but we need to pick something</span></span>
<span id="cb272-3"><a href="flow-control.html#cb272-3" aria-hidden="true"></a></span>
<span id="cb272-4"><a href="flow-control.html#cb272-4" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n=</span><span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">10</span>)  <span class="co"># one random value between 0 and 10 </span></span>
<span id="cb272-5"><a href="flow-control.html#cb272-5" aria-hidden="true"></a></span>
<span id="cb272-6"><a href="flow-control.html#cb272-6" aria-hidden="true"></a><span class="co"># what is value of f(x) at the randomly selected x value?  </span></span>
<span id="cb272-7"><a href="flow-control.html#cb272-7" aria-hidden="true"></a><span class="kw">dunif</span>(x, a, b)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>We will write a sequence of statements that utilizes an if statements to appropriately calculate the density of x assuming that <code>a</code>, <code>b</code> , and <code>x</code> are given to you, but your code won’t know if <code>x</code> is between <code>a</code> and <code>b</code>. That is, your code needs to figure out if it is and give either <code>1/(b-a)</code> or <code>0</code>.</p>
<ol style="list-style-type: lower-alpha">
<li><p>We could write a set of if/else statements</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="flow-control.html#cb274-1" aria-hidden="true"></a>a &lt;-<span class="st"> </span><span class="dv">4</span></span>
<span id="cb274-2"><a href="flow-control.html#cb274-2" aria-hidden="true"></a>b &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb274-3"><a href="flow-control.html#cb274-3" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n=</span><span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">10</span>)  <span class="co"># one random value between 0 and 10 </span></span>
<span id="cb274-4"><a href="flow-control.html#cb274-4" aria-hidden="true"></a></span>
<span id="cb274-5"><a href="flow-control.html#cb274-5" aria-hidden="true"></a><span class="cf">if</span>( x <span class="op">&lt;</span><span class="st"> </span>a ){</span>
<span id="cb274-6"><a href="flow-control.html#cb274-6" aria-hidden="true"></a>  result &lt;-<span class="st"> </span>???</span>
<span id="cb274-7"><a href="flow-control.html#cb274-7" aria-hidden="true"></a>}<span class="cf">else</span> <span class="cf">if</span>( x <span class="op">&lt;=</span><span class="st"> </span>b ){</span>
<span id="cb274-8"><a href="flow-control.html#cb274-8" aria-hidden="true"></a>  result &lt;-<span class="st"> </span>???</span>
<span id="cb274-9"><a href="flow-control.html#cb274-9" aria-hidden="true"></a>}<span class="cf">else</span>{</span>
<span id="cb274-10"><a href="flow-control.html#cb274-10" aria-hidden="true"></a>  result &lt;-<span class="st"> </span>???</span>
<span id="cb274-11"><a href="flow-control.html#cb274-11" aria-hidden="true"></a>}</span>
<span id="cb274-12"><a href="flow-control.html#cb274-12" aria-hidden="true"></a><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&#39;x=&#39;</span>,<span class="kw">round</span>(x,<span class="dt">digits=</span><span class="dv">3</span>), <span class="st">&#39;  result=&#39;</span>, <span class="kw">round</span>(result,<span class="dt">digits=</span><span class="dv">3</span>)))</span></code></pre></div>
<p>Replace the <code>???</code> with the appropriate value, either 0 or <span class="math inline">\(1/\left(b-a\right)\)</span>. Run the code repeatedly until you are certain that it is calculating the correct density value.</p></li>
<li><p>We could perform the logical comparison all in one comparison. Recall that we can use <code>&amp;</code> to mean “and” and <code>|</code> to mean “or”. In the following two code chunks, replace the <code>???</code> with either <code>&amp;</code> or <code>|</code> to make the appropriate result.</p>
<ol style="list-style-type: lower-roman">
<li><div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="flow-control.html#cb275-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n=</span><span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">10</span>)  <span class="co"># one random value between 0 and 10 </span></span>
<span id="cb275-2"><a href="flow-control.html#cb275-2" aria-hidden="true"></a><span class="cf">if</span>( (a<span class="op">&lt;=</span>x) ??? (x<span class="op">&lt;=</span>b) ){</span>
<span id="cb275-3"><a href="flow-control.html#cb275-3" aria-hidden="true"></a>  result &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">/</span>(b<span class="op">-</span>a)</span>
<span id="cb275-4"><a href="flow-control.html#cb275-4" aria-hidden="true"></a>}<span class="cf">else</span>{</span>
<span id="cb275-5"><a href="flow-control.html#cb275-5" aria-hidden="true"></a>  result &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb275-6"><a href="flow-control.html#cb275-6" aria-hidden="true"></a>}</span>
<span id="cb275-7"><a href="flow-control.html#cb275-7" aria-hidden="true"></a><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&#39;x=&#39;</span>,<span class="kw">round</span>(x,<span class="dt">digits=</span><span class="dv">3</span>), <span class="st">&#39;  result=&#39;</span>, <span class="kw">round</span>(result,<span class="dt">digits=</span><span class="dv">3</span>)))</span></code></pre></div></li>
<li><div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="flow-control.html#cb276-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n=</span><span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">10</span>)  <span class="co"># one random value between 0 and 10 </span></span>
<span id="cb276-2"><a href="flow-control.html#cb276-2" aria-hidden="true"></a><span class="cf">if</span>( (x<span class="op">&lt;</span>a) ??? (b<span class="op">&lt;</span>x) ){</span>
<span id="cb276-3"><a href="flow-control.html#cb276-3" aria-hidden="true"></a>  result &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb276-4"><a href="flow-control.html#cb276-4" aria-hidden="true"></a>}<span class="cf">else</span>{</span>
<span id="cb276-5"><a href="flow-control.html#cb276-5" aria-hidden="true"></a>  result &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">/</span>(b<span class="op">-</span>a)</span>
<span id="cb276-6"><a href="flow-control.html#cb276-6" aria-hidden="true"></a>}</span>
<span id="cb276-7"><a href="flow-control.html#cb276-7" aria-hidden="true"></a><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&#39;x=&#39;</span>,<span class="kw">round</span>(x,<span class="dt">digits=</span><span class="dv">3</span>), <span class="st">&#39;  result=&#39;</span>, <span class="kw">round</span>(result,<span class="dt">digits=</span><span class="dv">3</span>)))</span></code></pre></div></li>
<li><div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="flow-control.html#cb277-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n=</span><span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">10</span>)  <span class="co"># one random value between 0 and 10 </span></span>
<span id="cb277-2"><a href="flow-control.html#cb277-2" aria-hidden="true"></a>result &lt;-<span class="st"> </span><span class="kw">ifelse</span>( a<span class="op">&lt;</span>x <span class="op">&amp;</span><span class="st"> </span>x<span class="op">&lt;</span>b, ???, ??? )</span>
<span id="cb277-3"><a href="flow-control.html#cb277-3" aria-hidden="true"></a><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&#39;x=&#39;</span>,<span class="kw">round</span>(x,<span class="dt">digits=</span><span class="dv">3</span>), <span class="st">&#39;  result=&#39;</span>, <span class="kw">round</span>(result,<span class="dt">digits=</span><span class="dv">3</span>)))</span></code></pre></div></li>
</ol></li>
</ol></li>
<li><p>I often want to repeat some section of code some number of times. For example, I might want to create a bunch plots that compare the density of a t-distribution with specified degrees of freedom to a standard normal distribution.</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="flow-control.html#cb278-1" aria-hidden="true"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb278-2"><a href="flow-control.html#cb278-2" aria-hidden="true"></a>df &lt;-<span class="st"> </span><span class="dv">4</span></span>
<span id="cb278-3"><a href="flow-control.html#cb278-3" aria-hidden="true"></a>N &lt;-<span class="st"> </span><span class="dv">1000</span></span>
<span id="cb278-4"><a href="flow-control.html#cb278-4" aria-hidden="true"></a>x.grid &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>, <span class="dt">length=</span>N)</span>
<span id="cb278-5"><a href="flow-control.html#cb278-5" aria-hidden="true"></a>data &lt;-<span class="st"> </span><span class="kw">data.frame</span>( </span>
<span id="cb278-6"><a href="flow-control.html#cb278-6" aria-hidden="true"></a>  <span class="dt">x =</span> <span class="kw">c</span>(x.grid, x.grid),</span>
<span id="cb278-7"><a href="flow-control.html#cb278-7" aria-hidden="true"></a>  <span class="dt">y =</span> <span class="kw">c</span>(<span class="kw">dnorm</span>(x.grid), <span class="kw">dt</span>(x.grid, df)),</span>
<span id="cb278-8"><a href="flow-control.html#cb278-8" aria-hidden="true"></a>  <span class="dt">type =</span> <span class="kw">c</span>( <span class="kw">rep</span>(<span class="st">&#39;Normal&#39;</span>,N), <span class="kw">rep</span>(<span class="st">&#39;T&#39;</span>,N) ) )</span>
<span id="cb278-9"><a href="flow-control.html#cb278-9" aria-hidden="true"></a></span>
<span id="cb278-10"><a href="flow-control.html#cb278-10" aria-hidden="true"></a><span class="co"># make a nice graph</span></span>
<span id="cb278-11"><a href="flow-control.html#cb278-11" aria-hidden="true"></a>myplot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(data, <span class="kw">aes</span>(<span class="dt">x=</span>x, <span class="dt">y=</span>y, <span class="dt">color=</span>type, <span class="dt">linetype=</span>type)) <span class="op">+</span></span>
<span id="cb278-12"><a href="flow-control.html#cb278-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb278-13"><a href="flow-control.html#cb278-13" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&#39;Std Normal vs t with&#39;</span>, df, <span class="st">&#39;degrees of freedom&#39;</span>))</span>
<span id="cb278-14"><a href="flow-control.html#cb278-14" aria-hidden="true"></a></span>
<span id="cb278-15"><a href="flow-control.html#cb278-15" aria-hidden="true"></a><span class="co"># actually print the nice graph we made</span></span>
<span id="cb278-16"><a href="flow-control.html#cb278-16" aria-hidden="true"></a><span class="kw">print</span>(myplot) </span></code></pre></div>
<p><img src="06_FlowControl_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<ol style="list-style-type: lower-alpha">
<li><p>Use a <code>for</code> loop to create similar graphs for degrees of freedom <span class="math inline">\(2,3,4,\dots,29,30\)</span>.</p></li>
<li><p>In retrospect, perhaps we didn’t need to produce all of those. Rewrite your loop so that we only produce graphs for <span class="math inline">\(\left\{ 2,3,4,5,10,15,20,25,30\right\}\)</span> degrees of freedom. <em>Hint: you can just modify the vector in the <code>for</code> statement to include the desired degrees of freedom.</em></p></li>
</ol></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="statistical-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="factors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"],
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dereksonderegger/444/blob/master/06_FlowControl.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/dereksonderegger/444/raw/master/06_FlowControl.Rmd",
"text": null
},
"download": [["Introduction_to_DataScience_with_R.pdf", "PDF"]],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
