<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Data Structures | STA 444/5 - Introductory Data Science using R</title>
  <meta name="description" content="Chapter 8 Data Structures | STA 444/5 - Introductory Data Science using R" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Data Structures | STA 444/5 - Introductory Data Science using R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/Cover1.png" />
  
  <meta name="github-repo" content="dereksonderegger/444" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Data Structures | STA 444/5 - Introductory Data Science using R" />
  
  
  <meta name="twitter:image" content="images/Cover1.png" />

<meta name="author" content="Derek L. Sonderegger" />


<meta name="date" content="2019-10-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rmarkdown-tricks.html">
<link rel="next" href="9-importing-data.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other Resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="1-familiarization.html"><a href="1-familiarization.html"><i class="fa fa-check"></i><b>1</b> Familiarization</a><ul>
<li class="chapter" data-level="1.1" data-path="1-familiarization.html"><a href="1-familiarization.html#r-file-types"><i class="fa fa-check"></i><b>1.1</b> R file Types</a><ul>
<li class="chapter" data-level="1.1.1" data-path="1-familiarization.html"><a href="1-familiarization.html#r-scripts-.r-files"><i class="fa fa-check"></i><b>1.1.1</b> R Scripts (.R files)</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-familiarization.html"><a href="1-familiarization.html#r-markdown-.rmd-files"><i class="fa fa-check"></i><b>1.1.2</b> R Markdown (.Rmd files)</a></li>
<li class="chapter" data-level="1.1.3" data-path="1-familiarization.html"><a href="1-familiarization.html#r-notebooks-.rmd-files"><i class="fa fa-check"></i><b>1.1.3</b> R Notebooks (.Rmd files)</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-familiarization.html"><a href="1-familiarization.html#r-as-a-simple-calculator"><i class="fa fa-check"></i><b>1.2</b> R as a simple calculator</a></li>
<li class="chapter" data-level="1.3" data-path="1-familiarization.html"><a href="1-familiarization.html#assignment"><i class="fa fa-check"></i><b>1.3</b> Assignment</a></li>
<li class="chapter" data-level="1.4" data-path="1-familiarization.html"><a href="1-familiarization.html#vectors"><i class="fa fa-check"></i><b>1.4</b> Vectors</a></li>
<li class="chapter" data-level="1.5" data-path="1-familiarization.html"><a href="1-familiarization.html#packages"><i class="fa fa-check"></i><b>1.5</b> Packages</a></li>
<li class="chapter" data-level="1.6" data-path="1-familiarization.html"><a href="1-familiarization.html#finding-help"><i class="fa fa-check"></i><b>1.6</b> Finding Help</a><ul>
<li class="chapter" data-level="1.6.1" data-path="1-familiarization.html"><a href="1-familiarization.html#how-does-this-function-work"><i class="fa fa-check"></i><b>1.6.1</b> How does this function work?</a></li>
<li class="chapter" data-level="1.6.2" data-path="1-familiarization.html"><a href="1-familiarization.html#how-does-this-package-work"><i class="fa fa-check"></i><b>1.6.2</b> How does this package work?</a></li>
<li class="chapter" data-level="1.6.3" data-path="1-familiarization.html"><a href="1-familiarization.html#how-do-i-do-xxx"><i class="fa fa-check"></i><b>1.6.3</b> How do I do XXX?</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="1-familiarization.html"><a href="1-familiarization.html#exercises"><i class="fa fa-check"></i><b>1.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-data-frames.html"><a href="2-data-frames.html"><i class="fa fa-check"></i><b>2</b> Data Frames</a><ul>
<li class="chapter" data-level="2.1" data-path="2-data-frames.html"><a href="2-data-frames.html#introduction-to-importing-data"><i class="fa fa-check"></i><b>2.1</b> Introduction to Importing Data</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-data-frames.html"><a href="2-data-frames.html#from-a-package"><i class="fa fa-check"></i><b>2.1.1</b> From a Package</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-data-frames.html"><a href="2-data-frames.html#import-from-.csv-or-.xls-files"><i class="fa fa-check"></i><b>2.1.2</b> Import from <code>.csv</code> or <code>.xls</code> files</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-data-frames.html"><a href="2-data-frames.html#data-types"><i class="fa fa-check"></i><b>2.2</b> Data Types</a></li>
<li class="chapter" data-level="2.3" data-path="2-data-frames.html"><a href="2-data-frames.html#basic-manipulation"><i class="fa fa-check"></i><b>2.3</b> Basic Manipulation</a></li>
<li class="chapter" data-level="2.4" data-path="2-data-frames.html"><a href="2-data-frames.html#exercises-1"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-graphing.html"><a href="3-graphing.html"><i class="fa fa-check"></i><b>3</b> Graphing</a><ul>
<li class="chapter" data-level="3.1" data-path="3-graphing.html"><a href="3-graphing.html#basic-graphs"><i class="fa fa-check"></i><b>3.1</b> Basic Graphs</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-graphing.html"><a href="3-graphing.html#scatterplots"><i class="fa fa-check"></i><b>3.1.1</b> Scatterplots</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-graphing.html"><a href="3-graphing.html#box-plots"><i class="fa fa-check"></i><b>3.1.2</b> Box Plots</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-graphing.html"><a href="3-graphing.html#title-axis-labels"><i class="fa fa-check"></i><b>3.2</b> Title &amp; Axis Labels</a></li>
<li class="chapter" data-level="3.3" data-path="3-graphing.html"><a href="3-graphing.html#annotation"><i class="fa fa-check"></i><b>3.3</b> Annotation</a><ul>
<li class="chapter" data-level="3.3.1" data-path="3-graphing.html"><a href="3-graphing.html#using-a-data.frame"><i class="fa fa-check"></i><b>3.3.1</b> Using a <code>data.frame</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="3-graphing.html"><a href="3-graphing.html#setting-attributes-in-line"><i class="fa fa-check"></i><b>3.3.2</b> Setting attributes in-line</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3-graphing.html"><a href="3-graphing.html#faceting"><i class="fa fa-check"></i><b>3.4</b> Faceting</a></li>
<li class="chapter" data-level="3.5" data-path="3-graphing.html"><a href="3-graphing.html#exercises-2"><i class="fa fa-check"></i><b>3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html"><i class="fa fa-check"></i><b>4</b> Data Wrangling</a><ul>
<li class="chapter" data-level="4.1" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html#verbs"><i class="fa fa-check"></i><b>4.1</b> Verbs</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html#add_row"><i class="fa fa-check"></i><b>4.1.1</b> <code>add_row</code></a></li>
<li class="chapter" data-level="4.1.2" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html#subsetting"><i class="fa fa-check"></i><b>4.1.2</b> Subsetting</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html#arrange"><i class="fa fa-check"></i><b>4.1.3</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="4.1.4" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html#mutate"><i class="fa fa-check"></i><b>4.1.4</b> mutate()</a></li>
<li class="chapter" data-level="4.1.5" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html#summarise"><i class="fa fa-check"></i><b>4.1.5</b> summarise()</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html#split-apply-combine"><i class="fa fa-check"></i><b>4.2</b> Split, apply, combine</a></li>
<li class="chapter" data-level="4.3" data-path="4-data-wrangling.html"><a href="4-data-wrangling.html#exercises-3"><i class="fa fa-check"></i><b>4.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-statistical-models.html"><a href="5-statistical-models.html"><i class="fa fa-check"></i><b>5</b> Statistical Models</a><ul>
<li class="chapter" data-level="5.1" data-path="5-statistical-models.html"><a href="5-statistical-models.html#formula-notation"><i class="fa fa-check"></i><b>5.1</b> Formula Notation</a></li>
<li class="chapter" data-level="5.2" data-path="5-statistical-models.html"><a href="5-statistical-models.html#basic-models"><i class="fa fa-check"></i><b>5.2</b> Basic Models</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-statistical-models.html"><a href="5-statistical-models.html#t-tests"><i class="fa fa-check"></i><b>5.2.1</b> t-tests</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-statistical-models.html"><a href="5-statistical-models.html#lm-objects"><i class="fa fa-check"></i><b>5.2.2</b> lm objects</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-statistical-models.html"><a href="5-statistical-models.html#accessor-function"><i class="fa fa-check"></i><b>5.3</b> Accessor function</a></li>
<li class="chapter" data-level="5.4" data-path="5-statistical-models.html"><a href="5-statistical-models.html#exercises-4"><i class="fa fa-check"></i><b>5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-flow-control.html"><a href="6-flow-control.html"><i class="fa fa-check"></i><b>6</b> Flow Control</a><ul>
<li class="chapter" data-level="6.1" data-path="6-flow-control.html"><a href="6-flow-control.html#logical-expressions"><i class="fa fa-check"></i><b>6.1</b> Logical Expressions</a></li>
<li class="chapter" data-level="6.2" data-path="6-flow-control.html"><a href="6-flow-control.html#decision-statements"><i class="fa fa-check"></i><b>6.2</b> Decision statements</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-flow-control.html"><a href="6-flow-control.html#in-dplyr-wrangling"><i class="fa fa-check"></i><b>6.2.1</b> In <code>dplyr</code> wrangling</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-flow-control.html"><a href="6-flow-control.html#general-if-else"><i class="fa fa-check"></i><b>6.2.2</b> General <code>if else</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-flow-control.html"><a href="6-flow-control.html#loops"><i class="fa fa-check"></i><b>6.3</b> Loops</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-flow-control.html"><a href="6-flow-control.html#while-loops"><i class="fa fa-check"></i><b>6.3.1</b> <code>while</code> Loops</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-flow-control.html"><a href="6-flow-control.html#for-loops"><i class="fa fa-check"></i><b>6.3.2</b> <code>for</code> Loops</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6-flow-control.html"><a href="6-flow-control.html#exercises-5"><i class="fa fa-check"></i><b>6.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-factors.html"><a href="7-factors.html"><i class="fa fa-check"></i><b>7</b> Factors</a><ul>
<li class="chapter" data-level="7.1" data-path="7-factors.html"><a href="7-factors.html#creation-and-structure"><i class="fa fa-check"></i><b>7.1</b> Creation and Structure</a></li>
<li class="chapter" data-level="7.2" data-path="7-factors.html"><a href="7-factors.html#change-labels"><i class="fa fa-check"></i><b>7.2</b> Change Labels</a></li>
<li class="chapter" data-level="7.3" data-path="7-factors.html"><a href="7-factors.html#reorder-levels-1"><i class="fa fa-check"></i><b>7.3</b> Reorder Levels</a></li>
<li class="chapter" data-level="7.4" data-path="7-factors.html"><a href="7-factors.html#add-or-substract-levels"><i class="fa fa-check"></i><b>7.4</b> Add or substract Levels</a></li>
<li class="chapter" data-level="7.5" data-path="7-factors.html"><a href="7-factors.html#exercises-6"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>Miscellaneous</b></span></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html"><i class="fa fa-check"></i>Statistical Tables</a><ul>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#example-distributions"><i class="fa fa-check"></i>Example Distributions</a></li>
<li><a href="statistical-tables.html#mosaicplotdist-function"><code>mosaic::plotDist()</code> function</a></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#base-r-functions"><i class="fa fa-check"></i>Base R functions</a><ul>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#d-function"><i class="fa fa-check"></i>d-function</a></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#p-function"><i class="fa fa-check"></i>p-function</a></li>
<li><a href="statistical-tables.html#q-function"><code>q</code>-function</a></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#r-function"><i class="fa fa-check"></i>r-function</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="statistical-tables.html"><a href="statistical-tables.html#exercises-7"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html"><i class="fa fa-check"></i>Rmarkdown Tricks</a><ul>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#chunk-options"><i class="fa fa-check"></i>Chunk Options</a></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#verbatim-list-environments"><i class="fa fa-check"></i>Verbatim &amp; List Environments</a></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#mathematical-expressions"><i class="fa fa-check"></i>Mathematical expressions</a></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#tables"><i class="fa fa-check"></i>Tables</a><ul>
<li class="chapter" data-level="7.5.1" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#simple-tables"><i class="fa fa-check"></i><b>7.5.1</b> Simple Tables</a></li>
<li class="chapter" data-level="7.5.2" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#grid-tables"><i class="fa fa-check"></i><b>7.5.2</b> Grid Tables</a></li>
<li class="chapter" data-level="7.5.3" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#pipe-tables"><i class="fa fa-check"></i><b>7.5.3</b> Pipe Tables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#r-functions-to-produce-table-code."><i class="fa fa-check"></i>R functions to produce table code.</a><ul>
<li class="chapter" data-level="7.5.4" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#knitrkable"><i class="fa fa-check"></i><b>7.5.4</b> <code class="unnumbered">knitr::kable</code></a></li>
<li class="chapter" data-level="7.5.5" data-path="rmarkdown-tricks.html"><a href="rmarkdown-tricks.html#package-pander"><i class="fa fa-check"></i><b>7.5.5</b> Package <code class="unnumbered">pander</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Deeper Details</b></span></li>
<li class="chapter" data-level="8" data-path="8-data-structures.html"><a href="8-data-structures.html"><i class="fa fa-check"></i><b>8</b> Data Structures</a><ul>
<li class="chapter" data-level="8.1" data-path="8-data-structures.html"><a href="8-data-structures.html#vectors-1"><i class="fa fa-check"></i><b>8.1</b> Vectors</a><ul>
<li class="chapter" data-level="8.1.1" data-path="8-data-structures.html"><a href="8-data-structures.html#accessing-vector-elements"><i class="fa fa-check"></i><b>8.1.1</b> Accessing Vector Elements</a></li>
<li class="chapter" data-level="8.1.2" data-path="8-data-structures.html"><a href="8-data-structures.html#scalar-functions-applied-to-vectors"><i class="fa fa-check"></i><b>8.1.2</b> Scalar Functions Applied to Vectors</a></li>
<li class="chapter" data-level="8.1.3" data-path="8-data-structures.html"><a href="8-data-structures.html#vector-algebra"><i class="fa fa-check"></i><b>8.1.3</b> Vector Algebra</a></li>
<li class="chapter" data-level="8.1.4" data-path="8-data-structures.html"><a href="8-data-structures.html#commonly-used-vector-functions"><i class="fa fa-check"></i><b>8.1.4</b> Commonly Used Vector Functions</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-data-structures.html"><a href="8-data-structures.html#matrices"><i class="fa fa-check"></i><b>8.2</b> Matrices</a></li>
<li class="chapter" data-level="8.3" data-path="8-data-structures.html"><a href="8-data-structures.html#data-frames-1"><i class="fa fa-check"></i><b>8.3</b> Data Frames</a></li>
<li class="chapter" data-level="8.4" data-path="8-data-structures.html"><a href="8-data-structures.html#lists"><i class="fa fa-check"></i><b>8.4</b> Lists</a></li>
<li class="chapter" data-level="8.5" data-path="8-data-structures.html"><a href="8-data-structures.html#exercises-8"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-importing-data.html"><a href="9-importing-data.html"><i class="fa fa-check"></i><b>9</b> Importing Data</a><ul>
<li class="chapter" data-level="9.1" data-path="9-importing-data.html"><a href="9-importing-data.html#working-directory"><i class="fa fa-check"></i><b>9.1</b> Working directory</a></li>
<li class="chapter" data-level="9.2" data-path="9-importing-data.html"><a href="9-importing-data.html#comma-separated-data"><i class="fa fa-check"></i><b>9.2</b> Comma Separated Data</a></li>
<li class="chapter" data-level="9.3" data-path="9-importing-data.html"><a href="9-importing-data.html#ms-excel"><i class="fa fa-check"></i><b>9.3</b> MS Excel</a></li>
<li class="chapter" data-level="9.4" data-path="9-importing-data.html"><a href="9-importing-data.html#exercises-9"><i class="fa fa-check"></i><b>9.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-user-defined-functions.html"><a href="10-user-defined-functions.html"><i class="fa fa-check"></i><b>10</b> User Defined Functions</a><ul>
<li class="chapter" data-level="10.1" data-path="10-user-defined-functions.html"><a href="10-user-defined-functions.html#basic-function-definition"><i class="fa fa-check"></i><b>10.1</b> Basic function definition</a></li>
<li class="chapter" data-level="10.2" data-path="10-user-defined-functions.html"><a href="10-user-defined-functions.html#parameter-defaults"><i class="fa fa-check"></i><b>10.2</b> Parameter Defaults</a></li>
<li class="chapter" data-level="10.3" data-path="10-user-defined-functions.html"><a href="10-user-defined-functions.html#ellipses"><i class="fa fa-check"></i><b>10.3</b> Ellipses</a></li>
<li class="chapter" data-level="10.4" data-path="10-user-defined-functions.html"><a href="10-user-defined-functions.html#function-overloading"><i class="fa fa-check"></i><b>10.4</b> Function Overloading</a></li>
<li class="chapter" data-level="10.5" data-path="10-user-defined-functions.html"><a href="10-user-defined-functions.html#scope"><i class="fa fa-check"></i><b>10.5</b> Scope</a></li>
<li class="chapter" data-level="10.6" data-path="10-user-defined-functions.html"><a href="10-user-defined-functions.html#exercises-10"><i class="fa fa-check"></i><b>10.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html"><i class="fa fa-check"></i><b>11</b> String Manipulation</a><ul>
<li class="chapter" data-level="11.1" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#base-function"><i class="fa fa-check"></i><b>11.1</b> Base function</a></li>
<li class="chapter" data-level="11.2" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#stringr-basic-operations"><i class="fa fa-check"></i><b>11.2</b> <code>stringr</code>: Basic operations</a><ul>
<li class="chapter" data-level="11.2.1" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#concatenating-with-str_c-or-str_join"><i class="fa fa-check"></i><b>11.2.1</b> Concatenating with <code>str_c()</code> or <code>str_join()</code></a></li>
<li class="chapter" data-level="11.2.2" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#calculating-string-length-with-str_length"><i class="fa fa-check"></i><b>11.2.2</b> Calculating string length with <code>str_length()</code></a></li>
<li class="chapter" data-level="11.2.3" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#extracting-substrings-with-str_sub"><i class="fa fa-check"></i><b>11.2.3</b> Extracting substrings with <code>str_sub()</code></a></li>
<li class="chapter" data-level="11.2.4" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#pad-a-string-with-str_pad"><i class="fa fa-check"></i><b>11.2.4</b> Pad a string with <code>str_pad()</code></a></li>
<li class="chapter" data-level="11.2.5" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#trim-a-string-with-str_trim"><i class="fa fa-check"></i><b>11.2.5</b> Trim a string with <code>str_trim()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#stringr-pattern-matching-tools"><i class="fa fa-check"></i><b>11.3</b> <code>stringr</code>: Pattern Matching Tools</a><ul>
<li class="chapter" data-level="11.3.1" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#detecting-a-pattern-using-str_detect"><i class="fa fa-check"></i><b>11.3.1</b> Detecting a pattern using str_detect()</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#locating-a-pattern-using-str_locate"><i class="fa fa-check"></i><b>11.3.2</b> Locating a pattern using str_locate()</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#replacing-sub-strings-using-str_replace"><i class="fa fa-check"></i><b>11.3.3</b> Replacing sub-strings using <code>str_replace()</code></a></li>
<li class="chapter" data-level="11.3.4" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#splitting-into-sub-strings-using-str_split"><i class="fa fa-check"></i><b>11.3.4</b> Splitting into sub-strings using <code>str_split()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#regular-expressions"><i class="fa fa-check"></i><b>11.4</b> Regular Expressions</a><ul>
<li class="chapter" data-level="11.4.1" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#regular-expression-ingredients"><i class="fa fa-check"></i><b>11.4.1</b> Regular Expression Ingredients</a></li>
<li class="chapter" data-level="11.4.2" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#matching-a-specific-string"><i class="fa fa-check"></i><b>11.4.2</b> Matching a specific string</a></li>
<li class="chapter" data-level="11.4.3" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#matching-arbitrary-numbers"><i class="fa fa-check"></i><b>11.4.3</b> Matching arbitrary numbers</a></li>
<li class="chapter" data-level="11.4.4" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#greedy-matching"><i class="fa fa-check"></i><b>11.4.4</b> Greedy matching</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="11-string-manipulation.html"><a href="11-string-manipulation.html#exercises-11"><i class="fa fa-check"></i><b>11.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-dates-and-times.html"><a href="12-dates-and-times.html"><i class="fa fa-check"></i><b>12</b> Dates and Times</a><ul>
<li class="chapter" data-level="12.1" data-path="12-dates-and-times.html"><a href="12-dates-and-times.html#creating-date-and-time-objects"><i class="fa fa-check"></i><b>12.1</b> Creating Date and Time objects</a></li>
<li class="chapter" data-level="12.2" data-path="12-dates-and-times.html"><a href="12-dates-and-times.html#extracting-information"><i class="fa fa-check"></i><b>12.2</b> Extracting information</a></li>
<li class="chapter" data-level="12.3" data-path="12-dates-and-times.html"><a href="12-dates-and-times.html#arithmetic-on-dates"><i class="fa fa-check"></i><b>12.3</b> Arithmetic on Dates</a></li>
<li class="chapter" data-level="12.4" data-path="12-dates-and-times.html"><a href="12-dates-and-times.html#exercises-12"><i class="fa fa-check"></i><b>12.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-data-reshaping.html"><a href="13-data-reshaping.html"><i class="fa fa-check"></i><b>13</b> Data Reshaping</a><ul>
<li class="chapter" data-level="13.1" data-path="13-data-reshaping.html"><a href="13-data-reshaping.html#cbind-rbind"><i class="fa fa-check"></i><b>13.1</b> <code>cbind</code> &amp; <code>rbind</code></a></li>
<li class="chapter" data-level="13.2" data-path="13-data-reshaping.html"><a href="13-data-reshaping.html#tidyr"><i class="fa fa-check"></i><b>13.2</b> <code>tidyr</code></a><ul>
<li class="chapter" data-level="13.2.1" data-path="13-data-reshaping.html"><a href="13-data-reshaping.html#verbs-1"><i class="fa fa-check"></i><b>13.2.1</b> Verbs</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="13-data-reshaping.html"><a href="13-data-reshaping.html#storing-data-in-multiple-tables"><i class="fa fa-check"></i><b>13.3</b> Storing Data in Multiple Tables</a></li>
<li class="chapter" data-level="13.4" data-path="13-data-reshaping.html"><a href="13-data-reshaping.html#table-joins"><i class="fa fa-check"></i><b>13.4</b> Table Joins</a></li>
<li class="chapter" data-level="13.5" data-path="13-data-reshaping.html"><a href="13-data-reshaping.html#exercises-13"><i class="fa fa-check"></i><b>13.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="14-data-scraping.html"><a href="14-data-scraping.html"><i class="fa fa-check"></i><b>14</b> Data Scraping</a><ul>
<li class="chapter" data-level="14.1" data-path="14-data-scraping.html"><a href="14-data-scraping.html#web-pages"><i class="fa fa-check"></i><b>14.1</b> Web Pages</a><ul>
<li class="chapter" data-level="14.1.1" data-path="14-data-scraping.html"><a href="14-data-scraping.html#example-wikipedia-table"><i class="fa fa-check"></i><b>14.1.1</b> Example Wikipedia Table</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="14-data-scraping.html"><a href="14-data-scraping.html#exercises-14"><i class="fa fa-check"></i><b>14.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="15-r-packages.html"><a href="15-r-packages.html"><i class="fa fa-check"></i><b>15</b> R Packages</a><ul>
<li class="chapter" data-level="15.1" data-path="15-r-packages.html"><a href="15-r-packages.html#introduction"><i class="fa fa-check"></i><b>15.1</b> Introduction</a><ul>
<li class="chapter" data-level="15.1.1" data-path="15-r-packages.html"><a href="15-r-packages.html#useful-packages-and-books"><i class="fa fa-check"></i><b>15.1.1</b> Useful packages and books</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="15-r-packages.html"><a href="15-r-packages.html#package-structure"><i class="fa fa-check"></i><b>15.2</b> Package Structure</a><ul>
<li class="chapter" data-level="15.2.1" data-path="15-r-packages.html"><a href="15-r-packages.html#minimal-files-and-directories"><i class="fa fa-check"></i><b>15.2.1</b> Minimal files and directories</a></li>
<li class="chapter" data-level="15.2.2" data-path="15-r-packages.html"><a href="15-r-packages.html#optional-files-and-directories"><i class="fa fa-check"></i><b>15.2.2</b> Optional Files and Directories</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="15-r-packages.html"><a href="15-r-packages.html#documenting"><i class="fa fa-check"></i><b>15.3</b> Documenting</a><ul>
<li class="chapter" data-level="15.3.1" data-path="15-r-packages.html"><a href="15-r-packages.html#dataset-documentation"><i class="fa fa-check"></i><b>15.3.1</b> Dataset Documentation</a></li>
<li class="chapter" data-level="15.3.2" data-path="15-r-packages.html"><a href="15-r-packages.html#documenting-functions"><i class="fa fa-check"></i><b>15.3.2</b> Documenting Functions</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="15-r-packages.html"><a href="15-r-packages.html#the-description-file"><i class="fa fa-check"></i><b>15.4</b> The DESCRIPTION file</a><ul>
<li class="chapter" data-level="15.4.1" data-path="15-r-packages.html"><a href="15-r-packages.html#a-simple-analysis-package"><i class="fa fa-check"></i><b>15.4.1</b> A Simple Analysis Package</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="15-r-packages.html"><a href="15-r-packages.html#sharing-your-package"><i class="fa fa-check"></i><b>15.5</b> Sharing your Package</a></li>
<li class="chapter" data-level="15.6" data-path="15-r-packages.html"><a href="15-r-packages.html#exercises-15"><i class="fa fa-check"></i><b>15.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="16-speeding-up-r.html"><a href="16-speeding-up-r.html"><i class="fa fa-check"></i><b>16</b> Speeding up R</a><ul>
<li class="chapter" data-level="16.1" data-path="16-speeding-up-r.html"><a href="16-speeding-up-r.html#faster-for-loops"><i class="fa fa-check"></i><b>16.1</b> Faster for loops?</a></li>
<li class="chapter" data-level="16.2" data-path="16-speeding-up-r.html"><a href="16-speeding-up-r.html#vectorizing-loops"><i class="fa fa-check"></i><b>16.2</b> Vectorizing loops</a></li>
<li class="chapter" data-level="16.3" data-path="16-speeding-up-r.html"><a href="16-speeding-up-r.html#parallel-processing"><i class="fa fa-check"></i><b>16.3</b> Parallel Processing</a></li>
<li class="chapter" data-level="16.4" data-path="16-speeding-up-r.html"><a href="16-speeding-up-r.html#parallelizing-for-loops"><i class="fa fa-check"></i><b>16.4</b> Parallelizing for loops</a></li>
<li class="chapter" data-level="16.5" data-path="16-speeding-up-r.html"><a href="16-speeding-up-r.html#parallel-aware-functions"><i class="fa fa-check"></i><b>16.5</b> Parallel Aware Functions</a><ul>
<li class="chapter" data-level="16.5.1" data-path="16-speeding-up-r.html"><a href="16-speeding-up-r.html#bootboot"><i class="fa fa-check"></i><b>16.5.1</b> <code>boot::boot</code></a></li>
<li class="chapter" data-level="16.5.2" data-path="16-speeding-up-r.html"><a href="16-speeding-up-r.html#carettrain"><i class="fa fa-check"></i><b>16.5.2</b> <code>caret::train</code></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STA 444/5 - Introductory Data Science using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-structures" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Data Structures</h1>
<p>In the introduction section of these notes, we concentrated on <code>data.frame</code>s created and manipulated using <code>dplyr</code>. There are other data structures that are used in R and it is useful to learn how to manipulate those other data structures. Furthermore, it is also useful to be able to use base R functionality to do certain manipulations on <code>data.frame</code>s.</p>
<div id="vectors-1" class="section level2">
<h2><span class="header-section-number">8.1</span> Vectors</h2>
<p>R operates on vectors where we think of a vector as a collection of objects, usually numbers. The first thing we need to be able to do is define an arbitrary collection using the <code>c()</code> function. The “c” stands for collection.</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb334-1" data-line-number="1"><span class="co"># Define the vector of numbers 1, ..., 4</span></a>
<a class="sourceLine" id="cb334-2" data-line-number="2"><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<p>There are many other ways to define vectors. The function <code>rep(x, times)</code> just repeats <code>x</code> a the number times specified by <code>times</code>.</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb336-1" data-line-number="1"><span class="kw">rep</span>(<span class="dv">2</span>, <span class="dv">5</span>)              <span class="co"># repeat 2 five times... 2 2 2 2 2</span></a></code></pre></div>
<pre><code>## [1] 2 2 2 2 2</code></pre>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb338-1" data-line-number="1"><span class="kw">rep</span>( <span class="kw">c</span>(<span class="st">&#39;A&#39;</span>,<span class="st">&#39;B&#39;</span>), <span class="dv">3</span> )   <span class="co"># repeat A B three times  A B A B A B</span></a></code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;A&quot; &quot;B&quot; &quot;A&quot; &quot;B&quot;</code></pre>
<p>Finally, we can also define a sequence of numbers using the <code>seq(from, to, by, length.out)</code> function which expects the user to supply 3 out of 4 possible arguments. The possible arguments are <code>from</code>, <code>to</code>, <code>by</code>, and <code>length.out</code>. From is the starting point of the sequence, to is the ending point, by is the difference between any two successive elements, and <code>length.out</code> is the total number of elements in the vector.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb340-1" data-line-number="1"><span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">1</span>, <span class="dt">to=</span><span class="dv">4</span>, <span class="dt">by=</span><span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb342-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">4</span>)        <span class="co"># &#39;by&#39; has a default of 1   </span></a></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb344-1" data-line-number="1"><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>             <span class="co"># a shortcut for seq(1,4)</span></a></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb346-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">5</span>, <span class="dt">by=</span>.<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0</code></pre>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb348-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">5</span>, <span class="dt">length.out=</span><span class="dv">11</span>) </a></code></pre></div>
<pre><code>##  [1] 1.0 1.4 1.8 2.2 2.6 3.0 3.4 3.8 4.2 4.6 5.0</code></pre>
<p>If we have two vectors and we wish to combine them, we can again use the <code>c()</code> function.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb350-1" data-line-number="1">vec1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb350-2" data-line-number="2">vec2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb350-3" data-line-number="3">vec3 &lt;-<span class="st"> </span><span class="kw">c</span>(vec1, vec2)</a>
<a class="sourceLine" id="cb350-4" data-line-number="4">vec3</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div id="accessing-vector-elements" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Accessing Vector Elements</h3>
<p>Suppose I have defined a vector</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb352-1" data-line-number="1">foo &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;A&#39;</span>, <span class="st">&#39;B&#39;</span>, <span class="st">&#39;C&#39;</span>, <span class="st">&#39;D&#39;</span>, <span class="st">&#39;F&#39;</span>)</a></code></pre></div>
<p>and I am interested in accessing whatever is in the first spot of the vector. Or perhaps the 3rd or 5th element. To do that we use the <code>[]</code> notation, where the square bracket represents a subscript.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb353-1" data-line-number="1">foo[<span class="dv">1</span>]  <span class="co"># First element in vector foo</span></a></code></pre></div>
<pre><code>## [1] &quot;A&quot;</code></pre>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb355-1" data-line-number="1">foo[<span class="dv">4</span>]  <span class="co"># Fourth element in vector foo</span></a></code></pre></div>
<pre><code>## [1] &quot;D&quot;</code></pre>
<p>This subscripting notation can get more complicated. For example I might want the 2nd and 3rd element or the 3rd through 5th elements.</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb357-1" data-line-number="1">foo[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]  <span class="co"># elements 2 and 3</span></a></code></pre></div>
<pre><code>## [1] &quot;B&quot; &quot;C&quot;</code></pre>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb359-1" data-line-number="1">foo[ <span class="dv">3</span><span class="op">:</span><span class="dv">5</span> ]   <span class="co"># elements 3 to 5</span></a></code></pre></div>
<pre><code>## [1] &quot;C&quot; &quot;D&quot; &quot;F&quot;</code></pre>
<p>Finally, I might be interested in getting the entire vector except for a certain element. To do this, R allows us to use the square bracket notation with a negative index number.</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb361-1" data-line-number="1">foo[<span class="op">-</span><span class="dv">1</span>]          <span class="co"># everything but the first element</span></a></code></pre></div>
<pre><code>## [1] &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;F&quot;</code></pre>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb363-1" data-line-number="1">foo[ <span class="dv">-1</span><span class="op">*</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) ] <span class="co"># everything but the first two elements</span></a></code></pre></div>
<pre><code>## [1] &quot;C&quot; &quot;D&quot; &quot;F&quot;</code></pre>
<p>Now is a good time to address what is the <code>[1]</code> doing in our output? Because vectors are often very long and might span multiple lines, R is trying to help us by telling us the index number of the left most value. If we have a very long vector, the second line of values will start with the index of the first value on the second line.</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb365-1" data-line-number="1"><span class="co"># The letters vector is a vector of all 26 lower-case letters</span></a>
<a class="sourceLine" id="cb365-2" data-line-number="2">letters</a></code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot;
## [18] &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<p>Here the <code>[1]</code> is telling me that <code>a</code> is the first element of the vector and the <code>[18]</code> is telling me that <code>r</code> is the 18th element of the vector.</p>
</div>
<div id="scalar-functions-applied-to-vectors" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Scalar Functions Applied to Vectors</h3>
<p>It is very common to want to perform some operation on all the elements of a vector simultaneously. For example, I might want take the absolute value of every element. Functions that are inherently defined on single values will almost always apply the function to each element of the vector if given a vector.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb367-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">-5</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb367-2" data-line-number="2">x</a></code></pre></div>
<pre><code>##  [1] -5 -4 -3 -2 -1  0  1  2  3  4  5</code></pre>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb369-1" data-line-number="1"><span class="kw">abs</span>(x)</a></code></pre></div>
<pre><code>##  [1] 5 4 3 2 1 0 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb371-1" data-line-number="1"><span class="kw">exp</span>(x)</a></code></pre></div>
<pre><code>##  [1] 6.737947e-03 1.831564e-02 4.978707e-02 1.353353e-01 3.678794e-01
##  [6] 1.000000e+00 2.718282e+00 7.389056e+00 2.008554e+01 5.459815e+01
## [11] 1.484132e+02</code></pre>
</div>
<div id="vector-algebra" class="section level3">
<h3><span class="header-section-number">8.1.3</span> Vector Algebra</h3>
<p>All algebra done with vectors will be done element-wise by default.For matrix and vector multiplication as usually defined by mathematicians, use <code>%*%</code> instead of <code>*</code>. So two vectors added together result in their individual elements being summed.</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb373-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb373-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">:</span><span class="dv">8</span></a>
<a class="sourceLine" id="cb373-3" data-line-number="3">x <span class="op">+</span><span class="st"> </span>y</a></code></pre></div>
<pre><code>## [1]  6  8 10 12</code></pre>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb375-1" data-line-number="1">x <span class="op">*</span><span class="st"> </span>y</a></code></pre></div>
<pre><code>## [1]  5 12 21 32</code></pre>
<p>R does another trick when doing vector algebra. If the lengths of the two vectors don’t match, R will recycle the elements of the shorter vector to come up with vector the same length as the longer. This is potentially confusing, but is most often used when adding a long vector to a vector of length 1.</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb377-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb377-2" data-line-number="2">x <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a></code></pre></div>
<pre><code>## [1] 2 3 4 5</code></pre>
</div>
<div id="commonly-used-vector-functions" class="section level3">
<h3><span class="header-section-number">8.1.4</span> Commonly Used Vector Functions</h3>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>min(x)</code></td>
<td>Minimum value in vector x</td>
</tr>
<tr class="even">
<td><code>max(x)</code></td>
<td>Maximum value in vector x</td>
</tr>
<tr class="odd">
<td><code>length(x)</code></td>
<td>Number of elements in vector x</td>
</tr>
<tr class="even">
<td><code>sum(x)</code></td>
<td>Sum of all the elements in vector x</td>
</tr>
<tr class="odd">
<td><code>mean(x)</code></td>
<td>Mean of the elements in vector x</td>
</tr>
<tr class="even">
<td><code>median(x)</code></td>
<td>Median of the elements in vector x</td>
</tr>
<tr class="odd">
<td><code>var(x)</code></td>
<td>Variance of the elements in vector x</td>
</tr>
<tr class="even">
<td><code>sd(x)</code></td>
<td>Standard deviation of the elements in x</td>
</tr>
</tbody>
</table>
<p>Putting this all together, we can easily perform tedious calculations with ease. To demonstrate how scalars, vectors, and functions of them work together, we will calculate the variance of 5 numbers. Recall that variance is defined as
<span class="math display">\[ Var\left(x\right)=\frac{\sum_{i=1}^{n}\left(x_{i}-\bar{x}\right)^{2}}{n-1} \]</span></p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb379-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb379-2" data-line-number="2">xbar &lt;-<span class="st"> </span><span class="kw">mean</span>(x)         <span class="co"># calculate the mean</span></a>
<a class="sourceLine" id="cb379-3" data-line-number="3">xbar</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb381-1" data-line-number="1">x <span class="op">-</span><span class="st"> </span>xbar                <span class="co"># calculate the errors </span></a></code></pre></div>
<pre><code>## [1] -4 -2  0  2  4</code></pre>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb383-1" data-line-number="1">(x<span class="op">-</span>xbar)<span class="op">^</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 16  4  0  4 16</code></pre>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb385-1" data-line-number="1"><span class="kw">sum</span>( (x<span class="op">-</span>xbar)<span class="op">^</span><span class="dv">2</span> )</a></code></pre></div>
<pre><code>## [1] 40</code></pre>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb387-1" data-line-number="1">n &lt;-<span class="st"> </span><span class="kw">length</span>(x)          <span class="co"># how many data points do we have</span></a>
<a class="sourceLine" id="cb387-2" data-line-number="2">n</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb389-1" data-line-number="1"><span class="kw">sum</span>((x<span class="op">-</span>xbar)<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(n<span class="dv">-1</span>)   <span class="co"># calculating the variance by hand</span></a></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb391-1" data-line-number="1"><span class="kw">var</span>(x)                  <span class="co"># Same thing using the built-in variance function</span></a></code></pre></div>
<pre><code>## [1] 10</code></pre>
</div>
</div>
<div id="matrices" class="section level2">
<h2><span class="header-section-number">8.2</span> Matrices</h2>
<p>We often want to store numerical data in a square or rectangular format and mathematicians will call these “matrices”. These will have two dimensions, rows and columns. To create a matrix in R we can create it directly using the <code>matrix()</code> command which requires the data to fill the matrix with, and optionally, some information about the number of rows and columns:</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb393-1" data-line-number="1">W &lt;-<span class="st"> </span><span class="kw">matrix</span>( <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="dt">nrow=</span><span class="dv">2</span>, <span class="dt">ncol=</span><span class="dv">3</span> )</a>
<a class="sourceLine" id="cb393-2" data-line-number="2">W</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<p>Notice that because we only gave it six values, the information the number of columns is redundant and could be left off and R would figure out how many columns are needed. Next notice that the order that R chose to fill in the matrix was to fill in the first column then the second, and then the third. If we wanted to fill the matrix in order of the rows first, then we’d use the optional <code>byrow=TRUE</code> argument.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb395-1" data-line-number="1">W &lt;-<span class="st"> </span><span class="kw">matrix</span>( <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="dt">nrow=</span><span class="dv">2</span>, <span class="dt">byrow=</span><span class="ot">TRUE</span> )</a>
<a class="sourceLine" id="cb395-2" data-line-number="2">W</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6</code></pre>
<p>The alternative to the <code>matrix()</code> command is we could create two columns as individual vectors and just push them together. Or we could have made three rows and lump them by rows instead. To do this we’ll use a group of functions that bind vectors together. To join two column vectors together, we’ll use <code>cbind</code> and to bind rows together we’ll use the <code>rbind</code> function</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb397-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb397-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb397-3" data-line-number="3"><span class="kw">cbind</span>(a,b)  <span class="co"># Column Bind:  a,b are columns in resultant matrix </span></a></code></pre></div>
<pre><code>##      a b
## [1,] 1 4
## [2,] 2 5
## [3,] 3 6</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb399-1" data-line-number="1"><span class="kw">rbind</span>(a,b)  <span class="co"># Row Bind:     a,b are   rows  in resultant matrix    </span></a></code></pre></div>
<pre><code>##   [,1] [,2] [,3]
## a    1    2    3
## b    4    5    6</code></pre>
<p>Notice that doing this has provided R with some names for the individual rows and columns. I can change these using the commands <code>colnames()</code> and <code>rownames()</code>.</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb401-1" data-line-number="1">M &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">nrow=</span><span class="dv">3</span>, <span class="dt">ncol=</span><span class="dv">2</span>, <span class="dt">byrow=</span><span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb401-2" data-line-number="2"><span class="kw">colnames</span>(M) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Column1&#39;</span>, <span class="st">&#39;Column2&#39;</span>)       <span class="co"># set column labels</span></a>
<a class="sourceLine" id="cb401-3" data-line-number="3"><span class="kw">rownames</span>(M) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Row1&#39;</span>, <span class="st">&#39;Row2&#39;</span>,<span class="st">&#39;Row3&#39;</span>)      <span class="co"># set row labels</span></a>
<a class="sourceLine" id="cb401-4" data-line-number="4">M</a></code></pre></div>
<pre><code>##      Column1 Column2
## Row1       1       2
## Row2       3       4
## Row3       5       6</code></pre>
<p>This is actually a pretty peculiar way of setting the <em>attributes</em> of the object <code>M</code> because it looks like we are evaluating a function and assigning some value to the function output. Yes it is weird, but R was developed in the 70s and it seemed like a good idea at the time.</p>
<p>Accessing a particular element of a matrix is done in a similar manner as with vectors, using the <code>[ ]</code> notation, but this time we must specify which row and which column. Notice that this scheme always is <code>[row, col]</code>.</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb403-1" data-line-number="1">M1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">nrow=</span><span class="dv">3</span>, <span class="dt">ncol=</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb403-2" data-line-number="2">M1</a></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb405-1" data-line-number="1">M1[<span class="dv">1</span>,<span class="dv">2</span>]     <span class="co"># Grab row 1, column 2 value</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb407-1" data-line-number="1">M1[<span class="dv">1</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]  <span class="co"># Grab row 1, and columns 1 and 2.</span></a></code></pre></div>
<pre><code>## [1] 1 4</code></pre>
<p>I might want to grab a single row or a single column out of a matrix, which is sometimes referred to as taking a slice of the matrix. I could figure out how long that vector is, but often I’m too lazy. Instead I can just specify the specify the particular row or column I want.</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb409-1" data-line-number="1">M1</a></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb411-1" data-line-number="1">M1[<span class="dv">1</span>, ]    <span class="co"># grab the 1st row </span></a></code></pre></div>
<pre><code>## [1] 1 4</code></pre>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb413-1" data-line-number="1">M1[ ,<span class="dv">2</span>]    <span class="co"># grab second column (the spaces are optional...)</span></a></code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
</div>
<div id="data-frames-1" class="section level2">
<h2><span class="header-section-number">8.3</span> Data Frames</h2>
<p>Matrices are great for mathematical operations, but I also want to be able to store data that is numerical. For example I might want to store a categorical variable such as manufacturer brand. To generalize our concept of a matrix to include these types of data, we will create a structure called a <code>data.frame</code>. These are very much like a simple Excel spreadsheet where each column represents a different trait or measurement type and each row will represent an individual.</p>
<p>Perhaps the easiest way to create a data frame is to just type the columns of data</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb415-1" data-line-number="1">data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb415-2" data-line-number="2">  <span class="dt">Name  =</span> <span class="kw">c</span>(<span class="st">&#39;Bob&#39;</span>,<span class="st">&#39;Jeff&#39;</span>,<span class="st">&#39;Mary&#39;</span>),   </a>
<a class="sourceLine" id="cb415-3" data-line-number="3">  <span class="dt">Score =</span> <span class="kw">c</span>(<span class="dv">90</span>, <span class="dv">75</span>, <span class="dv">92</span>)</a>
<a class="sourceLine" id="cb415-4" data-line-number="4">)</a>
<a class="sourceLine" id="cb415-5" data-line-number="5"><span class="co"># Show the data.frame </span></a>
<a class="sourceLine" id="cb415-6" data-line-number="6">data</a></code></pre></div>
<pre><code>##   Name Score
## 1  Bob    90
## 2 Jeff    75
## 3 Mary    92</code></pre>
<p>Because a data frame feels like a matrix, R also allows matrix notation for accessing particular values.</p>
<table>
<thead>
<tr class="header">
<th>Format</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>[a,b]</code></td>
<td>Element in row <code>a</code> and column <code>b</code></td>
</tr>
<tr class="even">
<td><code>[a,]</code></td>
<td>All of row <code>a</code></td>
</tr>
<tr class="odd">
<td><code>[,b]</code></td>
<td>All of column <code>b</code></td>
</tr>
</tbody>
</table>
<p>Because the columns have meaning and we have given them column names, it is desirable to want to access an element by the name of the column as opposed to the column number.In large Excel spreadsheets I often get annoyed trying to remember which column something was in and muttering “Was total biomass in column P or Q?” A system where I could just name the column Total.Biomass and be done with it is much nicer to work with and I make fewer dumb mistakes.</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb417-1" data-line-number="1">data<span class="op">$</span>Name       <span class="co"># The $-sign means to reference a column by its label</span></a></code></pre></div>
<pre><code>## [1] Bob  Jeff Mary
## Levels: Bob Jeff Mary</code></pre>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb419-1" data-line-number="1">data<span class="op">$</span>Name[<span class="dv">2</span>]    <span class="co"># Notice that data$Name results in a vector, which I can manipulate</span></a></code></pre></div>
<pre><code>## [1] Jeff
## Levels: Bob Jeff Mary</code></pre>
<p>I can mix the <code>[ ]</code> notation with the column names. The following is also acceptable:</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb421-1" data-line-number="1">data[, <span class="st">&#39;Name&#39;</span>]   <span class="co"># Grab the column labeled &#39;Name&#39;</span></a></code></pre></div>
<pre><code>## [1] Bob  Jeff Mary
## Levels: Bob Jeff Mary</code></pre>
<p>The next thing we might wish to do is add a new column to a preexisting data frame. There are two ways to do this. First, we could use the <code>cbind()</code> function to bind two data frames together. Second we could reference a new column name and assign values to it.</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb423-1" data-line-number="1">Second.score &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Score2=</span><span class="kw">c</span>(<span class="dv">41</span>,<span class="dv">42</span>,<span class="dv">43</span>))  <span class="co"># another data.frame</span></a>
<a class="sourceLine" id="cb423-2" data-line-number="2">data &lt;-<span class="st">  </span><span class="kw">cbind</span>( data, Second.score )            <span class="co"># squish them together</span></a>
<a class="sourceLine" id="cb423-3" data-line-number="3">data</a></code></pre></div>
<pre><code>##   Name Score Score2
## 1  Bob    90     41
## 2 Jeff    75     42
## 3 Mary    92     43</code></pre>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb425-1" data-line-number="1"><span class="co"># if you assign a value to a column that doesn&#39;t exist, R will create it</span></a>
<a class="sourceLine" id="cb425-2" data-line-number="2">data<span class="op">$</span>Score3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">61</span>,<span class="dv">62</span>,<span class="dv">63</span>) <span class="co"># the Score3 column will created</span></a>
<a class="sourceLine" id="cb425-3" data-line-number="3">data</a></code></pre></div>
<pre><code>##   Name Score Score2 Score3
## 1  Bob    90     41     61
## 2 Jeff    75     42     62
## 3 Mary    92     43     63</code></pre>
<p>Data frames are very commonly used and many commonly used functions will take a <code>data=</code> argument and all other arguments are assumed to be in the given data frame. Unfortunately this is not universally supported by all functions and you must look at the help file for the function you are interested in.</p>
<p>Data frames are also very restrictive in that the shape of the data must be rectangular. If I try to create a new column that doesn’t have enough rows, R will complain.</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb427-1" data-line-number="1">data<span class="op">$</span>Score4 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)</a></code></pre></div>
<pre><code>## Error in `$&lt;-.data.frame`(`*tmp*`, Score4, value = c(1, 2)): replacement has 2 rows, data has 3</code></pre>
</div>
<div id="lists" class="section level2">
<h2><span class="header-section-number">8.4</span> Lists</h2>
<p>Data frames are quite useful for storing data but sometimes we’ll need to store a bunch of different pieces of information and it won’t fit neatly as a data frame. The most general form of a data structure is called a list. This can be thought of as a vector of objects where there is no requirement for each element to be the same type of object.</p>
<p>Consider that I might need to store information about person. For example, suppose that I want make an object that holds information about my immediate family. This object should have my spouse’s name (just one name) as well as my siblings. But because I have many siblings, I want the siblings to be a vector of names. Likewise I might also include my pets, but we don’t want any requirement that the number of pets is the same as the number of siblings (or spouses!).</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb429-1" data-line-number="1">wife &lt;-<span class="st"> &#39;Aubrey&#39;</span></a>
<a class="sourceLine" id="cb429-2" data-line-number="2">sibs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Tina&#39;</span>,<span class="st">&#39;Caroline&#39;</span>,<span class="st">&#39;Brandon&#39;</span>,<span class="st">&#39;John&#39;</span>)</a>
<a class="sourceLine" id="cb429-3" data-line-number="3">pets &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Beau&#39;</span>,<span class="st">&#39;Tess&#39;</span>,<span class="st">&#39;Kaylee&#39;</span>)</a>
<a class="sourceLine" id="cb429-4" data-line-number="4">Derek &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">Spouse=</span>wife, <span class="dt">Siblings=</span>sibs, <span class="dt">Pets=</span>pets) <span class="co"># Create the list</span></a>
<a class="sourceLine" id="cb429-5" data-line-number="5"><span class="kw">str</span>(Derek) <span class="co"># show the structure of object</span></a></code></pre></div>
<pre><code>## List of 3
##  $ Spouse  : chr &quot;Aubrey&quot;
##  $ Siblings: chr [1:4] &quot;Tina&quot; &quot;Caroline&quot; &quot;Brandon&quot; &quot;John&quot;
##  $ Pets    : chr [1:3] &quot;Beau&quot; &quot;Tess&quot; &quot;Kaylee&quot;</code></pre>
<p>Notice that the object <code>Derek</code> is a list of three elements. The first is the single string containing my wife’s name. The next is a vector of my siblings’ names and it is a vector of length four. Finally the vector of pets’ names is only of length three.</p>
<p>To access any element of this list we can use an indexing scheme similar to matrices and vectors. The only difference is that we’ll use two square brackets instead of one.</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb431-1" data-line-number="1">Derek[[ <span class="dv">1</span> ]]    <span class="co"># First element of the list is Spouse!</span></a></code></pre></div>
<pre><code>## [1] &quot;Aubrey&quot;</code></pre>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb433-1" data-line-number="1">Derek[[ <span class="dv">3</span> ]]    <span class="co"># Third element of the list is the vector of pets</span></a></code></pre></div>
<pre><code>## [1] &quot;Beau&quot;   &quot;Tess&quot;   &quot;Kaylee&quot;</code></pre>
<p>There is a second way I can access elements. For data frames it was convenient to use the notation <code>DataFrame$ColumnName</code> and we will use the same convention for lists. Actually a data frame is just a list with the requirement that each list element is a vector and all vectors are of the same length. To access my pets names we can use the following notation:</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb435-1" data-line-number="1">Derek<span class="op">$</span>Pets         <span class="co"># Using the &#39;$&#39; notation</span></a></code></pre></div>
<pre><code>## [1] &quot;Beau&quot;   &quot;Tess&quot;   &quot;Kaylee&quot;</code></pre>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb437-1" data-line-number="1">Derek[[ <span class="st">&#39;Pets&#39;</span> ]]  <span class="co"># Using the &#39;[[ ]]&#39; notation</span></a></code></pre></div>
<pre><code>## [1] &quot;Beau&quot;   &quot;Tess&quot;   &quot;Kaylee&quot;</code></pre>
<p>To add something new to the list object, we can just make an assignment in a similar fashion as we did for <code>data.frame</code> and just assign a value to a slot that doesn’t (yet!) exist.</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb439-1" data-line-number="1">Derek<span class="op">$</span>Spawn &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Elise&#39;</span>, <span class="st">&#39;Casey&#39;</span>)</a></code></pre></div>
<p>We can also add extremely complicated items to my list. Here we’ll add a <code>data.frame</code> as another list element.</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb440-1" data-line-number="1"><span class="co"># Recall that we previous had defined a data.frame called &quot;data&quot;</span></a>
<a class="sourceLine" id="cb440-2" data-line-number="2">Derek<span class="op">$</span>RandomDataFrame &lt;-<span class="st"> </span>data  <span class="co"># Assign it to be a list element</span></a>
<a class="sourceLine" id="cb440-3" data-line-number="3"><span class="kw">str</span>(Derek)</a></code></pre></div>
<pre><code>## List of 5
##  $ Spouse         : chr &quot;Aubrey&quot;
##  $ Siblings       : chr [1:4] &quot;Tina&quot; &quot;Caroline&quot; &quot;Brandon&quot; &quot;John&quot;
##  $ Pets           : chr [1:3] &quot;Beau&quot; &quot;Tess&quot; &quot;Kaylee&quot;
##  $ Spawn          : chr [1:2] &quot;Elise&quot; &quot;Casey&quot;
##  $ RandomDataFrame:&#39;data.frame&#39;: 3 obs. of  4 variables:
##   ..$ Name  : Factor w/ 3 levels &quot;Bob&quot;,&quot;Jeff&quot;,&quot;Mary&quot;: 1 2 3
##   ..$ Score : num [1:3] 90 75 92
##   ..$ Score2: num [1:3] 41 42 43
##   ..$ Score3: num [1:3] 61 62 63</code></pre>
<p>Now we see that the list <code>Derek</code> has five elements and some of those elements are pretty complicated. In fact, I could happily have lists of lists and have a very complicated nesting structure.</p>
<p>The place that most users will run into lists is that the output of many statistical procedures will return the results in a list object. When a user asks R to perform a regression, the output returned is a list object, and we’ll need to grab particular information from that object afterwards. For example, the output from a t-test in R is a list:</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb442-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">5.1</span>, <span class="fl">4.9</span>, <span class="fl">5.6</span>, <span class="fl">4.2</span>, <span class="fl">4.8</span>, <span class="fl">4.5</span>, <span class="fl">5.3</span>, <span class="fl">5.2</span>)   <span class="co"># some toy data</span></a>
<a class="sourceLine" id="cb442-2" data-line-number="2">results &lt;-<span class="st"> </span><span class="kw">t.test</span>(x, <span class="dt">alternative=</span><span class="st">&#39;less&#39;</span>, <span class="dt">mu=</span><span class="dv">5</span>)   <span class="co"># do a t-test</span></a>
<a class="sourceLine" id="cb442-3" data-line-number="3"><span class="kw">str</span>(results)                                     <span class="co"># examine the resulting object</span></a></code></pre></div>
<pre><code>## List of 9
##  $ statistic  : Named num -0.314
##   ..- attr(*, &quot;names&quot;)= chr &quot;t&quot;
##  $ parameter  : Named num 7
##   ..- attr(*, &quot;names&quot;)= chr &quot;df&quot;
##  $ p.value    : num 0.381
##  $ conf.int   : num [1:2] -Inf 5.25
##   ..- attr(*, &quot;conf.level&quot;)= num 0.95
##  $ estimate   : Named num 4.95
##   ..- attr(*, &quot;names&quot;)= chr &quot;mean of x&quot;
##  $ null.value : Named num 5
##   ..- attr(*, &quot;names&quot;)= chr &quot;mean&quot;
##  $ alternative: chr &quot;less&quot;
##  $ method     : chr &quot;One Sample t-test&quot;
##  $ data.name  : chr &quot;x&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;htest&quot;</code></pre>
<p>We see that result is actually a list with 9 elements in it. To access the p-value we could use:</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb444-1" data-line-number="1">results<span class="op">$</span>p.value</a></code></pre></div>
<pre><code>## [1] 0.3813385</code></pre>
<p>If I ask R to print the object <code>results</code>, it will hide the structure from you and print it in a “pretty” fashion because there is a <code>print</code> function defined specifically for objects created by the <code>t.test()</code> function.</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb446-1" data-line-number="1">results</a></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  x
## t = -0.31399, df = 7, p-value = 0.3813
## alternative hypothesis: true mean is less than 5
## 95 percent confidence interval:
##      -Inf 5.251691
## sample estimates:
## mean of x 
##      4.95</code></pre>
</div>
<div id="exercises-8" class="section level2">
<h2><span class="header-section-number">8.5</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li><p>Create a vector of three elements (2,4,6) and name that vector <code>vec_a</code>. Create a second vector, <code>vec_b</code>, that contains (8,10,12). Add these two vectors together and name the result <code>vec_c</code>.</p></li>
<li><p>Create a vector, named <code>vec_d</code>, that contains only two elements (14,20). Add this vector to <code>vec_a</code>. What is the result and what do you think R did (look up the recycling rule using Google)? What is the warning message that R gives you?</p></li>
<li><p>Next add 5 to the vector vec_a. What is the result and what did R do? Why doesn’t in give you a warning message similar to what you saw in the previous problem?</p></li>
<li>Generate the vector of integers <span class="math inline">\(\left\{ 1,2,\dots5\right\}\)</span> in two different ways.
<ol style="list-style-type: lower-alpha">
<li>First using the <code>seq()</code> function</li>
<li>Using the <code>a:b</code> shortcut.</li>
</ol></li>
<li>Generate the vector of even numbers <span class="math inline">\(\left\{ 2,4,6,\dots,20\right\}\)</span>
<ol style="list-style-type: lower-alpha">
<li>Using the seq() function and</li>
<li>Using the a:b shortcut and some subsequent algebra. <em>Hint: Generate the vector 1-10 and then multiple it by 2</em>.</li>
</ol></li>
<li><p>Generate a vector of 21 elements that are evenly placed between 0 and 1 using the <code>seq()</code> command and name this vector <code>x</code>.</p></li>
<li><p>Generate the vector <span class="math inline">\(\left\{ 2,4,8,2,4,8,2,4,8\right\}\)</span>
using the <code>rep()</code> command to replicate the vector c(2,4,8).</p></li>
<li><p>Generate the vector <span class="math inline">\(\left\{ 2,2,2,2,4,4,4,4,8,8,8,8\right\}\)</span>
using the <code>rep()</code> command. You might need to check the help file for rep() to see all of the options that rep() will accept. In particular, look at the optional argument <code>each=</code>.</p></li>
<li>The vector <code>letters</code> is a built-in vector to R and contains the lower case English alphabet.
<ol style="list-style-type: lower-alpha">
<li>Extract the 9th element of the letters vector.</li>
<li>Extract the sub-vector that contains the 9th, 11th, and 19th elements.</li>
<li>Extract the sub-vector that contains everything except the last two elements.</li>
</ol></li>
<li><p>In this problem, we will work with the matrix</p>
<p><span class="math display">\[ \left[\begin{array}{ccccc}
2 &amp; 4 &amp; 6 &amp; 8 &amp; 10\\
12 &amp; 14 &amp; 16 &amp; 18 &amp; 20\\
22 &amp; 24 &amp; 26 &amp; 28 &amp; 30
\end{array}\right]\]</span></p>
<ol style="list-style-type: lower-alpha">
<li>Create the matrix in two ways and save the resulting matrix as <code>M</code>.
<ol style="list-style-type: lower-roman">
<li>Create the matrix using some combination of the <code>seq()</code> and <code>matrix()</code> commands.</li>
<li>Create the same matrix by some combination of multiple <code>seq()</code> commands and either the <code>rbind()</code> or <code>cbind()</code> command.</li>
</ol></li>
<li>Extract the second row out of <code>M</code>.</li>
<li>Extract the element in the third row and second column of <code>M</code>.</li>
</ol></li>
<li>Create and manipulate a data frame.
<ol style="list-style-type: lower-alpha">
<li>Create a <code>data.frame</code> named <code>my.trees</code> that has the following columns:
<ul>
<li>Girth = {8.3, 8.6, 8.8, 10.5, 10.7, 10.8, 11.0}</li>
<li>Height= {70, 65, 63, 72, 81, 83, 66}</li>
<li>Volume= {10.3, 10.3, 10.2, 16.4, 18.8, 19.7, 15.6}</li>
</ul></li>
<li>Without using <code>dplyr</code> functions, extract the third observation (i.e. the third row)</li>
<li>Without using <code>dplyr</code> functions, extract the Girth column referring to it by name (don’t use whatever order you placed the columns in).</li>
<li>Without using <code>dplyr</code> functions, print out a data frame of all the observations <em>except</em> for the fourth observation. (i.e. Remove the fourth observation/row.)</li>
<li>Without using <code>dplyr</code> functions, use the <code>which()</code> command to create a vector of row indices that have a <code>girth</code> greater than 10. Call that vector <code>index</code>.</li>
<li>Without using <code>dplyr</code> functions, use the <code>index</code> vector to create a small data set with just the large girth trees.</li>
<li>Without using <code>dplyr</code> functions, use the <code>index</code> vector to create a small data set with just the small girth trees.</li>
</ol></li>
<li><p>Creation of data frames is usually done by binding together vectors while using <code>seq</code> and <code>rep</code> commands. However often we need to create a data frame that contains all possible combinations of several variables. The function <code>expand.grid()</code> addresses this need.</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb448-1" data-line-number="1"><span class="kw">expand.grid</span>( <span class="dt">F1=</span><span class="kw">c</span>(<span class="st">&#39;A&#39;</span>,<span class="st">&#39;B&#39;</span>), <span class="dt">F2=</span><span class="kw">c</span>(<span class="st">&#39;x&#39;</span>,<span class="st">&#39;w&#39;</span>,<span class="st">&#39;z&#39;</span>), <span class="dt">replicate=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span> )</a></code></pre></div>
<p>A fun example of using this function is making several graphs of the standard normal distribution versus the t-distribution. Use the <code>expand.grid</code> function to create a <code>data.frame</code> with all combinations of <code>x=seq(-4,4,by=.01)</code>, <code>dist=c('Normal','t')</code>, and <code>df=c(2,3,4,5,10,15,20,30)</code>. Use the <code>dplyr::mutate</code> command with the <code>if_else</code> command to generate the function heights <code>y</code> using either <code>dt(x,df)</code> or <code>dnorm(x)</code> depending on what is in the distribution column.</p></li>
<li>Create and manipulate a list.
<ol style="list-style-type: lower-alpha">
<li>Create a list named my.test with elements
<ul>
<li>x = c(4,5,6,7,8,9,10)</li>
<li>y = c(34,35,41,40,45,47,51)</li>
<li>slope = 2.82</li>
<li>p.value = 0.000131</li>
</ul></li>
<li>Extract the second element in the list.</li>
<li>Extract the element named <code>p.value</code> from the list.</li>
</ol></li>
<li>The function <code>lm()</code> creates a linear model, which is a general class of model that includes both regression and ANOVA. We will call this on a data frame and examine the results. For this problem, there isn’t much to figure out, but rather the goal is to recognize the data structures being used in common analysis functions.
<ol style="list-style-type: lower-alpha">
<li>There are many data sets that are included with R and its packages. One of which is the <code>trees</code> data which is a data set of <span class="math inline">\(n=31\)</span> cherry trees. Load this dataset into your current workspace using the command:</li>
</ol>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb449-1" data-line-number="1"><span class="kw">data</span>(trees)     <span class="co"># load trees data.frame</span></a></code></pre></div>
<ol start="2" style="list-style-type: lower-alpha">
<li>Examine the data frame using the <code>str()</code> command. Look at the help file for the data using the command <code>help(trees)</code> or <code>?trees</code>.</li>
<li>Perform a regression relating the volume of lumber produced to the girth and height of the tree using the following command</li>
</ol>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb450-1" data-line-number="1">m &lt;-<span class="st"> </span><span class="kw">lm</span>( Volume <span class="op">~</span><span class="st"> </span>Girth <span class="op">+</span><span class="st"> </span>Height, <span class="dt">data=</span>trees)</a></code></pre></div>
<ol start="4" style="list-style-type: lower-alpha">
<li>Use the str() command to inspect <code>m</code>. Extract the model coefficients from this list.</li>
</ol></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rmarkdown-tricks.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="9-importing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dereksonderegger/444/raw/master/18_MatricesDataFramesLists.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
